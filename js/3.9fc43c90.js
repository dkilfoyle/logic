(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"149f":function(e,t,n){"use strict";var r=n("448a"),a=n.n(r),s=n("a34a"),i=n.n(s),o=(n("96cf"),n("e0a5")),c=[],u=[],l=[],d=function(e,t){return function(n,r){return l.push({index:r,error:e,severity:t||"error"}),e}},b=Object(o["s"])([Object(o["t"])("//"),Object(o["i"])(Object(o["c"])("\n")),o["n"]]),p=Object(o["s"])([Object(o["t"])("/*"),Object(o["i"])(Object(o["t"])("*/")),Object(o["t"])("*/")]),f=Object(o["l"])(Object(o["d"])([o["w"],b,p])).map((function(e){return e||""})),m=function(e){return Object(o["b"])(f)(f)(e)},h=Object(o["r"])(m(Object(o["c"])(","))),g=(Object(o["r"])(m(Object(o["c"])(";"))),Object(o["b"])(m(Object(o["c"])("(")))(m(Object(o["c"])(")")))),j=Object(o["b"])(m(Object(o["c"])("{")))(m(Object(o["c"])("}"))),v=Object(o["b"])(m(Object(o["c"])("[")))(m(Object(o["c"])("]"))),w=Object(o["q"])(/^[0-1]/).map((function(e){return parseInt(e)})),x=Object(o["d"])([Object(o["t"])("~")]),O=Object(o["d"])([Object(o["t"])("&").map((function(e){return"and"})),Object(o["t"])("|").map((function(e){return"or"})),Object(o["t"])("^").map((function(e){return"xor"})),Object(o["t"])("~&").map((function(e){return"nand"})),Object(o["t"])("~|").map((function(e){return"nor"}))]),y=["module","begin","input","output","wire","assign","endmodule","buffer","and","not","or","xor","nor","nand"],k=Object(o["e"])(i.a.mark((function e(){var t;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["g"])(m(Object(o["s"])([Object(o["q"])(/^[a-zA-Z_]/),Object(o["o"])(Object(o["q"])(/^[a-zA-Z0-9_]+/)).map((function(e){return null===e?"":e}))])).map((function(e){return e.join("")})));case 2:if(t=e.sent,!t.isError){e.next=6;break}return e.next=6,Object(o["j"])("Invalid ID");case 6:if(!y.some((function(e){return e==t.value}))){e.next=9;break}return e.next=9,Object(o["j"])("Identifier cannot be keyword");case 9:return e.abrupt("return",t.value);case 10:case"end":return e.stop()}}),e)}))),F=(Object(o["e"])(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["f"];case 2:return t=e.sent,e.next=5,Object(o["t"])("'");case 5:return e.next=7,Object(o["t"])("b");case 7:return n=e.sent,e.next=10,o["f"];case 10:return r=e.sent,e.abrupt("return",{type:"number",bits:t,base:n,value:r});case 12:case"end":return e.stop()}}),e)}))),Object(o["e"])(i.a.mark((function e(){var t;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k;case 2:if(t=e.sent,c.some((function(e){return e==t}))){e.next=6;break}return e.next=6,Object(o["v"])((function(e){return d("Undefined variable","warning")("",e.index-t.length)}));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),C=function(e){return function(t){return console.log(e+":",t),t}},q=Object(o["p"])((function(){return Object(o["s"])([Object(o["o"])(x),Object(o["d"])([m(F).map((function(e){return{type:"variable",id:e}})),g(_)])]).map((function(e){return e[1].inverse=!!e[0],e[1]}))})),_=Object(o["d"])([Object(o["s"])([q,m(O),q]).map((function(e){return{type:"binaryExpression",operand1:e[0],operator:e[1],operand2:e[2]}})),q]).errorMap(d("Invalid expression")),I=Object(o["e"])(i.a.mark((function e(){var t;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k.errorMap(d("Invalid identifier"));case 2:if(t=e.sent,u.some((function(e){return e==t}))){e.next=6;break}return e.next=6,Object(o["v"])((function(e){return d("Must be control variable","warning")("",e.index-t.length)}));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)}))),E=Object(o["e"])(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F;case 2:return t=e.sent,e.next=5,Object(o["o"])(v(o["f"]));case 5:return n=e.sent,e.abrupt("return",{id:t,index:n});case 7:case"end":return e.stop()}}),e)}))),A=Object(o["e"])(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["s"])([Object(o["t"])("."),k]).map((function(e){return e[1]}));case 2:return t=e.sent,e.next=5,g(E);case 5:return n=e.sent,e.abrupt("return",{param:t,mapped:n});case 7:case"end":return e.stop()}}),e)}))),T=Object(o["e"])(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m(k).errorMap((function(e){return"no module"}));case 2:return t=e.sent,e.next=5,m(k).errorMap((function(e){return"no id"}));case 5:return n=e.sent,e.next=8,g(h(m(A)));case 8:return r=e.sent,e.next=11,Object(o["t"])(";");case 11:return e.abrupt("return",{type:"instance",module:t,id:n,params:r});case 12:case"end":return e.stop()}}),e)}))),D=Object(o["e"])(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["d"])([Object(o["t"])("and"),Object(o["t"])("nand"),Object(o["t"])("or"),Object(o["t"])("xor"),Object(o["t"])("nor"),Object(o["t"])("not"),Object(o["t"])("control"),Object(o["t"])("buffer")]);case 2:return t=e.sent,e.next=5,g(h(F));case 5:return n=e.sent,e.next=8,m(Object(o["t"])(";"));case 8:return e.abrupt("return",{type:"gate",id:n[0],gate:t,params:n.slice(1)});case 9:case"end":return e.stop()}}),e)}))),S=Object(o["e"])(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["t"])("assign ");case 2:return e.next=4,m(k).errorMap(d("Invalid assign identifier"));case 4:return t=e.sent,e.next=7,Object(o["t"])("=");case 7:return e.next=9,_.errorMap(d("Invalid expression"));case 9:return n=e.sent,e.next=12,Object(o["t"])(";");case 12:return e.abrupt("return",{type:"assign",id:t,value:n});case 13:case"end":return e.stop()}}),e)}))),z=Object(o["e"])(i.a.mark((function e(){var t;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v(Object(o["s"])([o["f"],Object(o["t"])(":"),o["f"]])).map((function(e){return[e[0],e[2]]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),W=Object(o["s"])([m(k),Object(o["l"])(Object(o["u"])(Object(o["t"])(","))(m(k)))]).map((function(e){return e.flat()})).errorMap(d("Invalid port identifier")),G=Object(o["e"])(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["d"])([m(Object(o["t"])("input")),m(Object(o["t"])("output"))]).errorMap(d("Invalid port type: must be 'input' or 'output'"));case 2:return t=e.sent,e.next=5,Object(o["o"])(z);case 5:return n=e.sent,e.next=8,W.errorMap(C("Invalid port identifier33333"));case 8:return r=e.sent,e.abrupt("return",r.map((function(e){return{type:t,dim:n,id:e}})));case 10:case"end":return e.stop()}}),e)}))),B=Object(o["e"])(i.a.mark((function e(){var t;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["t"])("wire ");case 2:return e.next=4,h(m(k).errorMap(d("Invalid wire identifier")));case 4:return t=e.sent,e.next=7,m(Object(o["t"])(";"));case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),M=Object(o["e"])(i.a.mark((function e(){var t,n,r,s,l,b;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["t"])("module ").errorMap(d("Expecting 'module'"));case 2:return e.next=4,m(k).errorMap(d("Invalid module identifier"));case 4:return t=e.sent,e.next=7,Object(o["o"])(g(h(G.errorMap(d("Invalid ports section")))).map((function(e){return e.flat()})));case 7:return n=e.sent,e.next=10,m(Object(o["t"])(";"));case 10:return e.next=12,Object(o["o"])(m(B));case 12:return r=e.sent,r=r||[],c=[].concat(a()(n.map((function(e){return e.id}))),a()(r)),u=[],e.next=18,Object(o["l"])(Object(o["d"])([m(D),m(T),m(S)]));case 18:if(s=e.sent,s.forEach((function(e){"control"==e.gate&&u.push(e.id)})),"main"!=t){e.next=24;break}return e.next=23,L.errorMap(d("Invalid test block"));case 23:l=e.sent;case 24:return e.next=26,m(Object(o["t"])("endmodule"));case 26:return b={type:"module",id:t,ports:n.flat(),wires:r,statements:s},l&&(b.clock=l),e.abrupt("return",b);case 29:case"end":return e.stop()}}),e)}))),Q=Object(o["e"])(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m(I);case 2:return t=e.sent,e.next=5,Object(o["t"])("=");case 5:return e.next=7,Object(o["s"])([m(w),Object(o["k"])(Object(o["a"])(w))]).map((function(e){return e[0]})).errorMap(d("Expected 0 or 1"));case 7:return n=e.sent,e.abrupt("return",{id:t,value:parseInt(n,10)});case 9:case"end":return e.stop()}}),e)}))),P=Object(o["e"])(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["t"])("#");case 2:return e.next=4,o["f"].errorMap(d("Invalid time"));case 4:return t=e.sent,e.next=7,o["n"];case 7:return e.next=9,Object(o["o"])(j(h(m(Q))));case 9:return n=e.sent,n=n||[],e.next=13,Object(o["t"])(";");case 13:return e.abrupt("return",{time:parseInt(t,10),assignments:n});case 14:case"end":return e.stop()}}),e)}))),L=Object(o["e"])(i.a.mark((function e(){var t;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m(Object(o["t"])("test begin"));case 2:return e.next=4,Object(o["l"])(m(P));case 4:return t=e.sent,e.next=7,m(Object(o["t"])("end"));case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),$=function(e){l=[];var t=Object(o["s"])([Object(o["m"])(m(M)),o["h"]]).map((function(e){return e[0]})).run(e);return{parseState:t,lint:l}};t["a"]=$},"1f8d":function(e,t,n){},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id="4678"},8041:function(e,t,n){"use strict";var r=n("cb9a"),a=n.n(r);a.a},"8b24":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"doc"},[n("div",{staticClass:"q-pa-md row items-start q-gutter-md justify-center"},[n("div",{staticClass:"col"},[n("q-tabs",{attrs:{"inline-label":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("q-tab",{attrs:{name:"code",label:"Code"}}),n("q-tab",{attrs:{name:"gates",label:"Gates",disable:!e.compiled.gates.length}}),n("q-tab",{attrs:{name:"trace",label:"Trace",disable:!e.compiled.simulation}}),n("q-tab",{attrs:{name:"graph",label:"Schematic",disable:!e.compiled.gates.length}})],1),n("q-tab-panels",{attrs:{"keep-alive":"",dense:"",animated:"","transition-prev":"fade","transition-next":"fade"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("q-tab-panel",{key:"code",staticClass:"q-gutter-md",attrs:{name:"code"}},[n("div",{staticClass:"row"},[n("q-card",{staticClass:"col"},[n("q-toolbar",{staticClass:"bg-grey-4 filetabs"},[e._l(e.openFiles,(function(t){return n("q-tabs",{key:t,attrs:{shrink:"",stretch:"",dense:"","inline-label":"",align:"left","active-color":"white","active-bg-color":"grey-9","indicator-color":"cyan"},model:{value:e.sourceTab,callback:function(t){e.sourceTab=t},expression:"sourceTab"}},[n("q-tab",{staticClass:"filetab",attrs:{name:t,label:t,dense:""}})],1)})),n("q-space"),n("div",{staticClass:"q-gutter-sm"},[e.sourceErrors(e.sourceTab)>0?n("q-badge",{attrs:{color:"red"}},[e._v(e._s(e.sourceErrors(e.sourceTab))+"\n                    "),n("q-icon",{staticClass:"q-ml-xs",attrs:{name:"warning",color:"white"}})],1):e._e(),n("q-btn-dropdown",{attrs:{dense:"",label:"Files"}},e._l(e.allFiles,(function(t){return n("q-list",{key:t},[n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(n){return e.onOpenFile(t)}}},[n("q-item-section",[n("q-item-label",[e._v(e._s(t))])],1)],1)],1)})),1),n("q-btn",{staticClass:"all-pointer-events z-top",attrs:{size:"xs",flat:"",round:"",icon:"close"},on:{click:e.closeFile}})],1)],2),e._l(e.openFiles,(function(t){return n("q-tab-panels",{key:t,attrs:{"keep-alive":""},model:{value:e.sourceTab,callback:function(t){e.sourceTab=t},expression:"sourceTab"}},[n("q-tab-panel",{key:t,staticClass:"q-pa-none",attrs:{name:t}},[n("editor",{on:{parsed:function(n){return e.onParsed(t,n)}},model:{value:e.source[t],callback:function(n){e.$set(e.source,t,n)},expression:"source[file]"}})],1)],1)}))],2)],1),n("div",{staticClass:"row"},[n("q-card",{staticClass:"col"},[n("q-card-section",[n("div",{staticClass:"row q-gutter-md q-pb-md"},[n("q-btn",{attrs:{color:"primary","icon-right":e.compileIcon,label:"Compile",disable:e.sourceErrors(e.sourceTab)>0},on:{click:e.compile}}),n("q-btn",{attrs:{color:"secondary","icon-right":"play_arrow",label:"Simulate",disable:"success"!=e.compiled.state},on:{click:e.simulate}}),n("q-space")],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showTerminal,expression:"showTerminal"}],staticClass:"row q-pa-sm",staticStyle:{"background-color":"black"}},[n("div",{staticClass:"col",staticStyle:{height:"20vh"},attrs:{id:"terminal"}})])])],1)],1)]),n("q-tab-panel",{key:"trace",attrs:{name:"trace"}},[n("trace",{attrs:{simulation:e.compiled.simulation,gates:e.compiled.gates,instances:e.compiled.instances}})],1),n("q-tab-panel",{key:"gates",attrs:{name:"gates"}},[n("gates",{attrs:{gates:e.compiled.gates,instances:e.compiled.instances}})],1),n("q-tab-panel",{key:"graph",attrs:{name:"graph"}},[n("graph",{attrs:{gates:e.compiled.gates,instances:e.compiled.instances}})],1)],1)],1)])])},a=[],s=(n("6b54"),n("f576"),n("448a")),i=n.n(s),o=(n("48c0"),n("20d6"),n("ac6a"),n("cadf"),n("06db"),n("456d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("codemirror",{ref:"cmEditor",attrs:{value:e.value,options:e.cmOptions},on:{ready:e.onReady,input:e.onChange}})}),c=[],u=n("bad6"),l=u["a"],d=(n("a796"),n("2877")),b=Object(d["a"])(l,o,c,!1,null,null,null),p=b.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md q-gutter-md"},[n("q-card",[n("q-card-section",[n("q-btn",{attrs:{label:"Redraw"},on:{click:e.redraw}}),n("q-radio",{attrs:{val:"force",label:"Force"},model:{value:e.layout,callback:function(t){e.layout=t},expression:"layout"}}),n("q-radio",{attrs:{val:"dagre",label:"Dagre"},model:{value:e.layout,callback:function(t){e.layout=t},expression:"layout"}}),"force"==e.layout?n("q-slider",{attrs:{min:10,max:300,step:25},model:{value:e.linkDistance,callback:function(t){e.linkDistance=t},expression:"linkDistance"}}):e._e(),n("q-checkbox",{attrs:{label:"Node Labels"},model:{value:e.showNodeLabels,callback:function(t){e.showNodeLabels=t},expression:"showNodeLabels"}})],1),n("q-separator"),n("q-card-section",[n("div",{ref:"graph"})])],1)],1)},m=[],h=(n("28a5"),n("30d1")),g=n.n(h);g.a.registerEdge("can-running",{setState:function(e,t,n){var r=n.get("keyShape");if("running"===e)if(t){var a=0;r.animate((function(){a++,a>9&&(a=0);var e={lineDash:[4,2,1,2],lineDashOffset:-a};return e}),{repeat:!0,duration:3e3})}else r.stopAnimate(),r.attr("lineDash",null)}},"cubic-horizontal");var j={props:["gates","instances"],data:function(){return{graph:null,layout:"dagre",showNodeLabels:!1,linkDistance:150}},watch:{graphData:function(e){console.log("graphData Watch"),this.graph.data(e),this.graph.render()},graphConfig:function(e){console.log("graphConfig Watch"),this.graph.updateLayout(e.layout)}},methods:{redraw:function(){console.log("redraw"),this.graph.data(this.graphData),this.graph.render()}},computed:{graphConfig:function(){return"force"==this.layout?{layout:{type:"force",preventOverlap:!0,linkDistance:this.linkDistance}}:"dagre"==this.layout?{layout:{type:"dagre",rankdir:"LR",align:"DL",controlPoints:!0,nodesepFunc:function(){return 1},ranksepFunc:function(){return 1}}}:{layout:{type:"force"}}},graphData:function(){var e=this;if(this.gates){var t={nodes:this.gates.map((function(t){return{id:t.id,label:e.showNodeLabels?t.id.substring(t.id.lastIndexOf(".")+1):null,description:t.id,type:"circle",icon:{show:!0,img:"statics/"+t.logic+".svg"},comboId:t.instance}})),edges:this.gates.map((function(e){return e.inputs?e.inputs.map((function(t){return{source:t,target:e.id}})):null})).flat().filter((function(e){return e})),combos:this.instances.map((function(e){var t=e.id.substring(0,e.id.lastIndexOf(".")),n=e.id.split(".").length-1,r={id:e.id,label:e.id.substring(e.id.lastIndexOf(".")+1),style:{fillOpacity:.3*n}};return""!=t&&(r.parentId=t),r}))};return console.log("graphData Computed: ",t),t}return{}}},mounted:function(){var e=this;this.graph=new g.a.Graph({container:this.$refs.graph,width:700,height:600,groupByTypes:!1,fitView:!0,fitViewPadding:20,layout:this.graphConfig.layout,defaultNode:{type:"circle",size:30,style:{},linkPoints:{top:!1,bottom:!1,left:!1,right:!0,fill:"#fff",size:5},anchorPoints:[[0,.25],[0,.75],[0,.5],[1,.25],[1,.75],[1,.5]],sourceAnchor:3,targetAnchor:0,labelCfg:{style:{fill:"#1890ff",fontSize:6},position:"bottom"}},defaultEdge:{type:"can-running",style:{endArrow:{path:g.a.Arrow.triangle(3,3),d:0},startArrow:!1,stroke:"#999"}},defaultCombo:{type:"rect",anchorPoints:[[0,.25],[0,.75],[0,.5],[1,.5]],sourceAnchor:3,targetAnchor:0},nodeStateStyles:{active:{opacity:1},inactive:{opacity:.4}},edgeStateStyles:{active:{stroke:"#F6BD16",lineWidth:3,opacity:1},inactive:{opacity:.4,stroke:"#999",lineWidth:1}},modes:{default:["drag-node","drag-canvas","drag-combo","collapse-expand-combo","zoom-canvas",{type:"tooltip",formatText:function(e){var t=e.description;return t},offset:30}]}}),this.graph.on("node:mouseenter",(function(t){var n=e.graph.getEdges();n.forEach((function(e){e.update({style:{opacity:.3}})}));var r=t.item;n=r.getEdges(),n.forEach((function(t){t.update({style:{opacity:1,lineWidth:2,endArrow:{path:g.a.Arrow.triangle(0,0,0),d:0}}}),e.graph.setItemState(t,"running",!0)}))})),this.graph.on("node:mouseleave",(function(t){var n=e.graph.getEdges();n.forEach((function(e){e.update({style:{opacity:1,lineWidth:1,endArrow:{path:g.a.Arrow.triangle(4,4,0),d:0}}})}));var r=t.item;n=r.getEdges(),n.forEach((function(t){return e.graph.setItemState(t,"running",!1)}))}))}},v=j,w=(n("eb33"),n("f09f")),x=n("a370"),O=n("9c40"),y=n("3786"),k=n("c1d0"),F=n("8f8e"),C=n("eb85"),q=n("eebe"),_=n.n(q),I=Object(d["a"])(v,f,m,!1,null,null,null),E=I.exports;_()(I,"components",{QCard:w["a"],QCardSection:x["a"],QBtn:O["a"],QRadio:y["a"],QSlider:k["a"],QCheckbox:F["a"],QSeparator:C["a"]});var A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-sm q-gutter-sm"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-3"},[n("div",{staticClass:"text-subtitle2"},[e._v("Instances")]),n("q-tree",{attrs:{nodes:e.instanceTree,"node-key":"id","selected-color":"primary",selected:e.instanceID,"default-expand-all":""},on:{"update:selected":function(t){e.instanceID=t}}})],1),n("div",{staticClass:"col-9 q-gutter-md"},[n("div",{staticClass:"row"},[n("q-radio",{attrs:{val:"all",label:"All"},model:{value:e.showWhichGates,callback:function(t){e.showWhichGates=t},expression:"showWhichGates"}}),n("q-radio",{attrs:{val:"inputs",label:"Inputs"},model:{value:e.showWhichGates,callback:function(t){e.showWhichGates=t},expression:"showWhichGates"}}),n("q-radio",{attrs:{val:"outputs",label:"Outputs"},model:{value:e.showWhichGates,callback:function(t){e.showWhichGates=t},expression:"showWhichGates"}})],1),e.selectedInstance?n("div",e._l(e.selectedGates,(function(t){return n("div",{key:t.globalid,staticClass:"row"},[n("div",{staticClass:"col-9"},[n("trace-chart",{attrs:{"chart-data":e.tracedata(t.globalid),options:e.traceoptions}})],1),n("div",{staticClass:"col-3"},[n("div",{staticClass:"text-caption"},[e._v(e._s(t.globalid))]),n("div",{staticClass:"text-caption"},[e._v(e._s(t.instanceid))])])])})),0):e._e()])])])},T=[],D=(n("8e6e"),n("8a81"),n("9523")),S=n.n(D),z=n("1fca"),W=z["b"].reactiveProp,G={extends:z["a"],mixins:[W],props:{options:{type:Object,default:null},height:{type:String,default:"100px"}},mounted:function(){this.renderChart(this.chartData,this.options)}},B=(n("7514"),{data:function(){return{instanceID:"main",showWhichGates:"outputs"}},computed:{selectedInstance:function(){return this.getInstance(this.instanceID)},instanceTree:function(){var e=this,t=function t(n){var r=e.instances.find((function(e){return e.id==n}));return{label:r.id.slice(r.id.lastIndexOf(".")+1),id:r.id,children:r.instances.map((function(e){return t(e)}))}};return[t("main")]},selectedGates:function(){var e=this.selectedInstance;switch(this.showWhichGates){case"all":return[].concat(i()(e.inputs),i()(e.wires),i()(e.outputs));case"wires":return i()(e.wires);case"outputs":return i()(e.outputs);case"inputs":return i()(e.inputs)}return[]}},methods:{getGate:function(e){return this.gates.find((function(t){return t.id==e}))},getInstance:function(e){return this.instances.find((function(t){return t.id==e}))}}});function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={props:["simulation","gates","instances"],mixins:[B],components:{TraceChart:G},data:function(){return{}},methods:{tracedata:function(e){return{labels:this.simulation.time,datasets:[Q(Q({},this.traceColor(e)),{},{label:e,data:this.simulation[e],steppedLine:!0,pointRadius:0})]}},traceColor:function(e){return this.selectedInstance.outputs.some((function(t){return t.globalid==e}))?{backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)"}:this.selectedInstance.inputs.some((function(t){return t.globalid==e}))?{backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)"}:void 0}},computed:{clockData:function(){return{labels:this.simulation.time,datasets:[{label:"clock",data:this.simulation.clock,steppedLine:!0,pointRadius:0}]}},traceoptions:function(){return{legend:{display:!1},scales:{yAxes:[{ticks:{stepSize:1}}]}}}}},L=P,$=n("7f41"),N=Object(d["a"])(L,A,T,!1,null,null,null),H=N.exports;_()(N,"components",{QTree:$["a"],QRadio:y["a"]});var R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md q-gutter-md"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-3"},[n("div",{staticClass:"text-subtitle2"},[e._v("Instances")]),n("q-tree",{attrs:{nodes:e.instanceTree,"node-key":"id","selected-color":"primary",selected:e.instanceID,"default-expand-all":""},on:{"update:selected":function(t){e.instanceID=t}}})],1),n("div",{staticClass:"col-9 q-gutter-md"},[n("div",{staticClass:"row"},[n("q-radio",{attrs:{val:"all",label:"All"},model:{value:e.showWhichGates,callback:function(t){e.showWhichGates=t},expression:"showWhichGates"}}),n("q-radio",{attrs:{val:"outputs",label:"Outputs"},model:{value:e.showWhichGates,callback:function(t){e.showWhichGates=t},expression:"showWhichGates"}})],1),n("div",{staticClass:"row"},[n("q-markup-table",[n("thead",[n("tr",[n("th",[e._v("GlobalID")]),n("th",[e._v("InstanceID")]),n("th",[e._v("Function")]),n("th",[e._v("Inputs")]),n("th",[e._v("State")])])]),n("tbody",e._l(e.selectedGates,(function(t){return n("tr",{key:t.globalid},[n("td",[e._v(e._s(t.globalid))]),n("td",[e._v(e._s(t.instanceid))]),n("td",[e._v(e._s(e.getGate(t.globalid).logic))]),n("td",[e._v(e._s(e.getGate(t.globalid).inputs.join(", ")))]),n("td",[e._v(e._s(e.getGate(t.globalid).state))])])})),0)])],1)])])])},U=[],Z=(n("1c16"),{props:["gates","instances"],mixins:[B],data:function(){return{showWhichGates:"all"}}}),J=Z,V=n("2bb1"),K=Object(d["a"])(J,R,U,!1,null,null,null),X=K.exports;_()(K,"components",{QTree:$["a"],QRadio:y["a"],QMarkupTable:V["a"]});var Y,ee,te,ne=n("149f"),re=(n("8615"),function e(t,n){""!==t&&(t+=".");var r=Y[n.module],a=n.params.reduce((function(e,a){return e[a.param]={globalid:t+a.mapped.id,type:"port",moduleid:a.param,instanceid:t+n.id+"."+a.param,porttype:r.ports.find((function(e){return e.id==a.param})).type},e}),{}),s=function(e){return a[e]={globalid:t+n.id+"."+e,instanceid:t+n.id+"."+e,moduleid:e,type:"wire"},a[e].globalid};r.wires.forEach(s);var i=function(e){return te.push({id:a[e.id].instanceid,logic:e.gate,inputs:e.params.map((function(e){return a[e].globalid})),instance:t+n.id,state:0}),a[e.id].instanceid};r.statements.filter((function(e){return"gate"==e.type})).forEach(i);var o=function e(r,o){if(r.inverse&&!a["not"+r.id]){s("not"+r.id);i({id:"not"+r.id,gate:"not",params:[r.id],instance:t+n.id,state:0})}if("variable"===r.type)return r.inverse?"not"+r.id:r.id;if("binaryExpression"===r.type){a[o]||s(o);var c={id:o,gate:r.operator,params:[e(r.operand1,o+"op1"),e(r.operand2,o+"op2")],instance:t+n.id,state:0};return i(c),o}};r.statements.filter((function(e){return"assign"==e.type})).forEach((function(e){return o(e.value,e.id)}));var c={id:t+n.id,inputs:Object.values(a).filter((function(e){return"port"==e.type&&"input"==e.porttype})),outputs:Object.values(a).filter((function(e){return"port"==e.type&&"output"==e.porttype})),wires:Object.values(a).filter((function(e){return"wire"==e.type})),instances:[]};return r.statements.filter((function(e){return"instance"==e.type})).forEach((function(r){var a=e(t+n.id,r);a.outputs.forEach((function(e){te.find((function(t){return t.id==e.globalid})).inputs.push(e.instanceid)})),c.instances.push(a.id)})),ee.push(c),c}),ae=function(e){Y=e.reduce((function(e,t){return"module"==!t.type?(console.log("top level of ast should be modules only"),e):(e[t.id]=t,e)}),{}),te=[],ee=[];var t={params:Y.main.ports.map((function(e){return{param:e.id,mapped:{id:"main."+e.id}}})),id:"main",module:"main"};return re("",t),{instances:ee,gates:te}},se=ae,ie=(n("abb2"),n("fcf3")),oe=n("47d0"),ce="// One bit full adder\r\n\r\nmodule SingleStage (\r\n  input a,\r\n  input b,\r\n  input cin,\r\n  output s,\r\n  output cout );\r\n\r\n  wire w1, w2, w3;\r\n\r\n  and( w1, a, b );\r\n  and( w2, a, cin );\r\n  and( w3, b, cin );\r\n  or( cout, w1, w2, w3 );\r\n\r\n  xor( s, a, b, cin );\r\n\r\nendmodule\r\n\r\nmodule main(\r\n  output sum,\r\n  output cout);\r\n\r\n  wire a, b, cin;\r\n\r\n  control(a);\r\n  control(b);\r\n  control(cin);\r\n\r\n  SingleStage uut(\r\n\t\t.a(a),\r\n\t\t.b(b),\r\n\t\t.cin(cin),\r\n\t\t.s(sum),\r\n\t\t.cout(cout)\r\n  );\r\n\r\n  buffer(sum);\r\n  buffer(cout);\r\n\r\n\ttest begin\r\n\t\t#0  {a=0, b=0, cin=0};\r\n    #2  {a=0, b=0, cin=0};\r\n    #4  {a=0, b=0, cin=1};\r\n    #6  {a=0, b=1, cin=0};\r\n    #8  {a=0, b=1, cin=1};\r\n    #10 {a=1, b=0, cin=0};\r\n    #12 {a=1, b=0, cin=1};\r\n    #14 {a=1, b=1, cin=0};\r\n    #16 {a=1, b=1, cin=1};\r\n\tend\r\nendmodule",ue="// D Flip Flop\r\n\r\nmodule DFF (\r\n\tinput clk,\r\n\tinput dIn,\r\n\toutput q);\r\n\r\n\twire not_d_in, d_nand_a, d_nand_c, q_;\r\n\r\n\tnot( not_d_in, dIn );\r\n\tnand( d_nand_a, dIn, clk );\r\n\tnand( q, d_nand_a, q_ );\r\n\tnand( d_nand_c, not_d_in, clk );\r\n  nand( q_, d_nand_c, q);\r\nendmodule\r\n\r\nmodule DFFE (\r\n  input clk,\r\n  input dIn,\r\n  input dEnable,\r\n  output q);\r\n\r\n  wire gatedClk, dInB;\r\n  and( gatedClk, clk, dEnable );\r\n  buffer( dInB, dIn) ;\r\n\r\n  DFF dff( .clk(gatedClk), .dIn(dInB), .q(q));\r\n\r\n  buffer(q);\r\nendmodule\r\n\r\nmodule main(output q);\r\n\r\n  wire A, E, clock;\r\n\r\n  control(A);\r\n  control(E);\r\n  control(clock);\r\n\r\n  DFFE dffe(.clk(clock), .dIn(A), .dEnable(E), .q(q));\r\n\r\n  buffer(q);\r\n\r\n  test begin\r\n    #0  { E=1 };\r\n    #1  { A=1, E=0 };\r\n    #7  { E=1 };\r\n    #9  { A=0, E=0 };\r\n    #12;\r\n  end\r\nendmodule",le="module MyModule (\r\n\t input a,\r\n\t input b,\r\n\t output x,\r\n\t output y );\r\n\r\n\t wire w1, w2, w3;\r\n\r\n\t and( x, a, b );\r\n\t or( y, a, b );\r\nendmodule\r\n\r\nmodule main(\r\n  output o1,\r\n  output o2);\r\n\r\n  wire user1, user2, cin;\r\n\r\n  control(user1);\r\n  control(user2);\r\n\r\n  MyModule foo(\r\n\t\t.a(user1),\r\n\t\t.b(user2),\r\n\t\t.x(o1),\r\n\t\t.y(o2)\r\n  );\r\n\r\n  buffer(o1);\r\n  buffer(o2);\r\n\r\n  test begin\r\n\t#0  {user1=0, user2=0};\r\n\t#2  {user1=0, user2=1};\r\n\t#4  {user1=1, user2=0};\r\n\t#6  {user1=1, user2=1};\r\n  end\r\nendmodule",de="/* \r\n2 to 4 one hot decoder\r\nA B | F3 F2 F1 F0\r\n0 0 |  0  0  0  1 \r\n0 1 |  0  0  1  0\r\n1 0 |  0  1  0  0\r\n1 1 |  1  0  0  0\r\n*/\r\n\r\n// using bitwise assigns\r\nmodule OneHotDecoderBitwise (\r\n  input a, b,\r\n  output F3, F2, F1, F0);\r\n\r\n  assign F0 = (~a & ~b);\r\n  assign F1 = (~a & b);\r\n  assign F2 = (a & ~b);\r\n  assign F3 = (a & b);\r\nendmodule\r\n\r\n// using standard gate statements\r\nmodule OneHotDecoder (\r\n  input a, b,\r\n  output F3, F2, F1, F0);\r\n\r\n  wire nota, notb;\r\n  not(nota, a);\r\n  not(notb, b);\r\n\r\n  and(F0, nota, notb);\r\n  and(F1, nota, b);\r\n  and(F2, a, notb);\r\n  and(F3, a, b);\r\nendmodule\r\n\r\nmodule main(\r\n  output F3, F2, F1, F0);\r\n\r\n  wire a, b;\r\n  control(a);\r\n  control(b);\r\n\r\n  // OneHotDecoder ohd(\r\n  OneHotDecoderBitwise ohd(\r\n\t\t.a(a),\r\n\t\t.b(b),\r\n\t\t.F3(F3),\r\n\t\t.F2(F2),\r\n\t\t.F1(F1),\r\n\t\t.F0(F0)\r\n  );\r\n\r\n  buffer(F3);\r\n  buffer(F2);\r\n  buffer(F1);\r\n  buffer(F0);\r\n\r\n  test begin\r\n\t\t#0  {a=0, b=0};\r\n    #2  {a=0, b=1};\r\n    #4  {a=1, b=0};\r\n    #6  {a=1, b=1};\r\n    #8;\r\n\tend\r\nendmodule",be="/* \r\n7 segment display decoder\r\n  a\r\nf   b\r\n  g\r\ne   c\r\n  d\r\n\r\nA B C | Fa Fb Fc Fd Fe Ff Fg\r\n0 0 0 |  1  1  1  1  1  1  0 \r\n0 0 1 |  0  1  1  0  0  0  0\r\n0 1 0 |  1  1  0  1  1  0  1\r\n0 1 1 |  1  1  1  1  0  0  1\r\n1 0 0 |  0  1  1  0  0  1  1 \r\n1 0 1 |  1  0  1  1  0  1  1\r\n1 1 0 |  1  0  1  1  1  1  1\r\n1 1 1 |  1  1  1  0  0  0  0\r\n*/\r\n\r\n// using standard gate statements\r\nmodule SevenSeg(\r\n  input A, B, C,\r\n  output Fa, Fb, Fc, Fd, Fe, Ff, Fg);\r\n\r\n  assign Fa = (((~A & ~C) | B) | (A & C));\r\n  assign Fb = (((~B & ~C) | ~A) | (B & C));\r\n  assign Fc = ((A | ~B) | C);\r\n  assign Fd = \r\n    (\r\n      ((~A & ~C) | (~A & B)) |\r\n      ((B & ~C) | ((A & ~B) & C))\r\n    );\r\n  assign Fe = ((~A & ~C) | (B & ~C));\r\n  assign Ff = (((~B & ~C) | (A & ~C)) | (A & ~B));\r\n  assign Fg = (((~A & B) | (A & ~C)) | (A & ~B));\r\nendmodule\r\n\r\nmodule main(\r\n  output Fa, Fb, Fc, Fd, Fe, Ff, Fg);\r\n\r\n  wire a, b, c;\r\n\r\n  control(a);\r\n  control(b);\r\n  control(c);\r\n\r\n  SevenSeg ss(\r\n\t\t.A(a),\r\n\t\t.B(b),\r\n\t\t.C(c),\r\n    .Fa(Fa),\r\n    .Fb(Fb),\r\n    .Fc(Fc),\r\n    .Fd(Fd),\r\n    .Fe(Fe),\r\n    .Ff(Ff),\r\n    .Fg(Fg)\r\n  );\r\n\r\n  buffer(Fa);\r\n  buffer(Fb);\r\n  buffer(Fc);\r\n  buffer(Fd);\r\n  buffer(Fe);\r\n  buffer(Ff);\r\n  buffer(Fg);\r\n\r\n  test begin\r\n    #00 {a=0, b=0, c=0}; // should get 1 1 1 1 1 1 0\r\n    #02 {a=0, b=0, c=1}; // should get 0 1 1 0 0 0 0\r\n    #04 {a=0, b=1, c=0}; // should get 1 1 0 1 1 0 1\r\n    #06 {a=0, b=1, c=1}; // should get 1 1 1 1 0 0 1\r\n    #08 {a=1, b=0, c=0}; // should get 0 1 1 0 0 1 1 \r\n    #10 {a=1, b=0, c=1}; // should get 1 0 1 1 0 1 1\r\n    #12 {a=1, b=1, c=0}; // should get 1 0 1 1 1 1 1\r\n    #14 {a=1, b=1, c=1}; // should get 1 1 1 0 0 0 0\r\n    #16;\r\n\tend\r\nendmodule",pe=n("2b0e"),fe=n("53f4"),me={enabled:!0,level:2},he=new fe.Instance(me),ge=function(e){var t=e.join(", ");return t.length<21?t:t.slice(0,40)+"..."},je=function(e,t){return e.reduce((function(e,n){return e[n[t]]=n,e}),{})},ve=function(e){return 1&~e},we={not:function(e){return 1&~e},buffer:function(e){return e},and2:function(e,t){return e&&t},nand2:function(e,t){return ve(e&&t)},or2:function(e,t){return e||t},nor2:function(e,t){return ve(e||t)},xor2:function(e,t){return e^t},xnor2:function(e,t){return ve(e^t)},and3:function(e,t,n){return e&&t&&n},nand3:function(e,t,n){return ve(e&&t&&n)},or3:function(e,t,n){return e||t||n},nor3:function(e,t,n){return ve(e||t||n)},xor3:function(e,t,n){return e^t^n},xnor3:function(e,t,n){return ve(e^t^n)}},xe=function(e,t){var n=function(e){var n=e.logic;if(1!=e.inputs.length){var r=t[e.inputs[0]],a=t[e.inputs[1]];if(2!=e.inputs.length)if(3!=e.inputs.length);else{var s=t[e.inputs[2]];e.state="x"===r||"x"===a||"x"===s?"x":we[n+"3"](r.state,a.state,s.state)}else e.state="x"===r||"x"===a?"x":we[n+"2"](r.state,a.state)}else{if("not"!=n&&"buffer"!=n)return void console.log("Gate evaluation error - 1 input only valid for not and buffer gates");var i=t[e.inputs[0]];e.state="x"===i?"x":we[n](i.state)}};e.forEach((function(e){if("control"!==e.logic)return n(e)}))},Oe={name:"PageIndex",components:{Editor:p,Graph:E,Gates:X,Trace:H},data:function(){return{terminal:{},showTerminal:!0,fitAddon:{},compiled:{state:"uncompiled",sourceFile:"",parseTree:{lint:[]},gates:[],instances:[],simulation:{}},tab:"code",layout:"dagre",source:{adder:ce,dff:ue,scratch:le,onehotdecoder:de,sevenseg:be},sourceTab:"onehotdecoder",openFiles:["onehotdecoder","sevenseg"],errors:{}}},computed:{allFiles:function(){return Object.keys(this.source)},compileIcon:function(){return"success"==this.compiled.state?"check_circle":"error"==this.compiled.state?"error_outline":"replay"}},methods:{closeFile:function(){var e=this,t=this.openFiles.findIndex((function(t){return t==e.sourceTab}));this.openFiles.splice(t,1),this.sourceTab=this.openFiles[t%this.openFiles.length]},sourceErrors:function(e){return this.errors[e]},onParsed:function(e,t){pe["a"].set(this.errors,e,t)},onOpenFile:function(e){this.openFiles.some((function(t){return t==e}))||this.openFiles.push(e),this.sourceTab=e},termWriteln:function(e){this.terminal.write(e+"\n\r"),this.terminal.scrollToBottom()},compile:function(){this.showTerminal=!0,this.compiled.sourceFile=this.sourceTab,this.termWriteln(he.bold.green("• Compiling: ")+he.yellow(this.sourceTab));var e=Object(ne["a"])(this.source[this.sourceTab]).parseState;if(console.log("Parse: ",e),e.isError)return this.compiled.state="error",void this.termWriteln(he.red("└── Parser error: ")+e.error);this.compiled.state="success",this.compiled.parseTree=e.result,this.termWriteln(he.green("├── Parsed ".concat(this.compiled.parseTree.length," modules: ").concat(he.white(this.compiled.parseTree.map((function(e){return e.id})).join(", ")))));var t=se(this.compiled.parseTree);console.log("Walk: ",t),this.compiled.instances=i()(t.instances),this.compiled.gates=i()(t.gates),this.termWriteln(he.green("├── Generated ".concat(this.compiled.instances.length," instances: ").concat(he.white(ge(this.compiled.instances.map((function(e){return e.id}))))))),this.termWriteln(he.green("└── Generated ".concat(this.compiled.gates.length," gates: ").concat(he.white(ge(this.compiled.gates.map((function(e){return e.id}))))))),this.termWriteln(he.green.inverse(" DONE ")+"  Compiled successfully")},simulate:function(){var e=this;this.showTerminal=!0,this.termWriteln(he.bold.cyan("• Simulating: ")+he.yellow(this.compiled.sourceFile));var t=5;this.compiled.simulation={},this.compiled.gates.forEach((function(t){e.compiled.simulation[t.id]=[]}));var n=je(this.compiled.gates,"id"),r=je(this.compiled.instances,"id"),a=je(this.compiled.parseTree,"id"),s=a.main.clock.reduce((function(e,t){return Math.max(t.time,e)}),0);this.compiled.simulation.time=[],n["main.clock"]&&(n["main.clock"].state=0);for(var i=function(s){e.compiled.simulation.time.push(s),a.main.clock.forEach((function(e){e.time==s&&e.assignments.forEach((function(e){"control"==n["main."+e.id].logic&&(n["main."+e.id].state=e.value)}))})),n["main.clock"]&&(n["main.clock"].state=1&~n["main.clock"].state);for(var i=0;i<t;i++)xe(e.compiled.gates,n);e.compiled.gates.forEach((function(t){e.compiled.simulation[t.id].push(n[t.id].state)})),a.main.clock.forEach((function(t,a,i){if(t.time==s){var o=a==i.length-1?"└":"├";e.termWriteln(he.cyan("".concat(o,"── Time ").concat(s.toString().padStart(3,"0")," :"))+ge(t.assignments.map((function(e){return e.id+"="+e.value})))+he.cyan(" => ")+ge(r.main.outputs.map((function(e){return e.moduleid+"="+n[e.globalid].state}))))}}))},o=0;o<=s;o++)i(o);this.termWriteln(he.cyan.inverse(" DONE ")+"  Simulated successfully")}},mounted:function(){this.terminal=new ie["Terminal"]({rows:40}),this.fitAddon=new oe["FitAddon"],this.terminal.loadAddon(this.fitAddon),this.terminal.open(document.getElementById("terminal")),this.fitAddon.fit()}},ye=Oe,ke=(n("8041"),n("9989")),Fe=n("429b"),Ce=n("7460"),qe=n("adad"),_e=n("823b"),Ie=n("65c6"),Ee=n("2c91"),Ae=n("58a8"),Te=n("0016"),De=n("f20b"),Se=n("1c1c"),ze=n("66e5"),We=n("4074"),Ge=n("0170"),Be=n("7f67"),Me=Object(d["a"])(ye,r,a,!1,null,null,null);t["default"]=Me.exports;_()(Me,"components",{QPage:ke["a"],QTabs:Fe["a"],QTab:Ce["a"],QTabPanels:qe["a"],QTabPanel:_e["a"],QCard:w["a"],QToolbar:Ie["a"],QSpace:Ee["a"],QBadge:Ae["a"],QIcon:Te["a"],QBtnDropdown:De["a"],QList:Se["a"],QItem:ze["a"],QItemSection:We["a"],QItemLabel:Ge["a"],QBtn:O["a"],QSeparator:C["a"],QCardSection:x["a"]}),_()(Me,"directives",{ClosePopup:Be["a"]})},"9aff":function(e,t,n){"use strict";n("3b2b"),n("4917"),n("386d");var r=n("56b3"),a=n.n(r),s=n("149f"),i=n("5068");String.prototype.regexIndexOf=function(e,t){var n=this.substring(t||0).search(e);return n>=0?n+(t||0):n},a.a.defineSimpleMode("vlg",{meta:{lineComment:"//"},start:[{regex:/"(?:[^\\]|\\.)*?(?:"|$)/,token:"string"},{regex:/(?:module|begin)/,token:"def",indent:!0},{regex:/(?:input|output|endmodule|end)\b/,token:"def"},{regex:/(?:not|and|or|xor|nand|control|buffer)\b/,token:"keyword"},{regex:/(?:wire|test|assign)\b/,token:"variable-2"},{regex:/true|false|null|undefined/,token:"atom"},{regex:/0x[a-f\d]+|[-+]?(?:\.\d+|\d+\.?\d*)(?:e[-+]?\d+)?/i,token:"number"},{regex:/\/\/.*/,token:"comment"},{regex:/\/(?:[^\\]|\\.)*?\//,token:"variable-3"},{regex:/\/\*/,token:"comment",next:"comment"},{regex:/[-+\/*=<>!]+/,token:"operator"},{regex:/[\{\[\(]/,indent:!0},{regex:/[\}\]\)]/,dedent:!0},{regex:/[a-zA-Z$][\w$]*/,token:"variable"}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}]}),a.a.registerHelper("fold","vlg",(function(e,t){function n(e,t){var n=t&&t.match(/^(begin|module)+/);return n}var r=e.getLine(t.line),s=n(t.line,r);if(s){var i=e.lastLine(),o=t.line,c=e.getLine(o+1);while(o<i){if(n(o+1,c))break;++o,c=e.getLine(o+1)}return{from:a.a.Pos(t.line,r.length),to:a.a.Pos(o,e.getLine(o).length)}}})),a.a.registerHelper("lint","vlg",(function(e){if(""==e)return[];var t=[],n=Object(s["a"])(e),r=i(e,{origin:0}),o=function(n,s,i){var o=r.fromIndex(s),c=r.fromIndex(Math.max(e.regexIndexOf(/[\s\(\)\[\]\{\},=]/,s),s));t.push({message:n,severity:i,from:a.a.Pos(o.line,o.col),to:a.a.Pos(c.line,c.col)})};return n.lint.forEach((function(e){return o(e.error,e.index,e.severity)})),n.parseState.isError&&0==n.lint.length&&o(n.parseState.error,n.parseState.index),t}));var o={start:["nand(","and(","or(","xor(","nor(","not(","control","input","output","wire","assign"],none:["module"]};a.a.registerHelper("hint","dictionaryHint",(function(e){var t=e.getCursor(),n=e.getLine(t.line),r=t.ch,s=r,i=e.getTokenAt(e.getCursor()).state;while(s<n.length&&/[\w$]/.test(n.charAt(s)))++s;while(r&&/[\w$]/.test(n.charAt(r-1)))--r;var c=r!==s&&n.slice(r,s),u=new RegExp("^"+c,"i");return{list:(c?o[i.state].filter((function(e){return e.match(u)})):o[i.state]).sort(),from:a.a.Pos(t.line,r),to:a.a.Pos(t.line,s)}})),a.a.commands.autocomplete=function(e){a.a.showHint(e,a.a.hint.dictionaryHint)}},a12c:function(e,t,n){},a796:function(e,t,n){"use strict";var r=n("1f8d"),a=n.n(r);a.a},bad6:function(e,t,n){"use strict";(function(e){var r=n("8f94"),a=n("56b3"),s=n.n(a),i=(n("76ae"),n("10b2"),n("8c33"),n("8822"),n("0dd0"),n("9b74"),n("f6b6"),n("7289"),n("4895"),n("cbc8"),n("697e"),n("149f"));n("9aff"),n("a7be"),n("7a7a");e.CodeMirror=s.a;n("5068");t["a"]={components:{codemirror:r["codemirror"]},props:["value"],data:function(){return{cmOptions:{viewportMargin:1/0,tabSize:2,indentUnit:2,mode:"vlg",theme:"monokai",lineNumbers:!0,line:!0,extraKeys:{"Ctrl-Space":"autocomplete","Ctrl-/":"toggleComment","Ctrl-Q":function(e){e.foldCode(e.getCursor())}},lint:{selfContain:!0},autoCloseBrackets:!0,matchBrackets:!0,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"],foldGutter:!0}}},methods:{onReady:function(e){var t=Object(i["a"])(this.value),n=0==t.lint.length&&t.isError?1:t.lint.length;this.$emit("parsed",n)},onChange:function(e){this.$emit("input",e);var t=Object(i["a"])(e),n=0==t.lint.length&&t.isError?1:t.lint.length;this.$emit("parsed",n)}},computed:{codemirror:function(){return this.$refs.cmEditor.codemirror}},mounted:function(){}}}).call(this,n("c8ba"))},cb9a:function(e,t,n){},eb33:function(e,t,n){"use strict";var r=n("a12c"),a=n.n(r);a.a}}]);