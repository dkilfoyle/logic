(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"149f":function(e,t,n){"use strict";var r=n("448a"),a=n.n(r),s=n("278c"),i=n.n(s),o=n("a34a"),c=n.n(o),u=(n("96cf"),n("e0a5")),l=[],d=[],p=[],b=function(e,t){return function(n,r){return p.push({index:r,error:e,severity:t||"error"}),e}},f=function(e){return function(t){return{type:e,value:t}}},m=function(e){return e[e.length-1]},h=Object(u["k"])(Object(u["p"])(/^./)),g=Object(u["r"])([Object(u["s"])("//"),Object(u["i"])(Object(u["c"])("\n")),u["n"]]),v=Object(u["r"])([Object(u["s"])("/*"),Object(u["i"])(Object(u["s"])("*/")),Object(u["s"])("*/")]),j=Object(u["l"])(Object(u["d"])([u["v"],g,v])).map((function(e){return e||""})),x=function(e){return Object(u["b"])(j)(j)(e)},O=Object(u["q"])(x(Object(u["c"])(","))),w=(Object(u["q"])(x(Object(u["c"])(";"))),Object(u["b"])(x(Object(u["c"])("(")))(x(Object(u["c"])(")")))),k=Object(u["b"])(x(Object(u["c"])("{")))(x(Object(u["c"])("}"))),y=Object(u["b"])(x(Object(u["c"])("[")))(x(Object(u["c"])("]"))),E=Object(u["p"])(/^[0-1]/).map((function(e){return parseInt(e)})),F=["module","begin","input","output","wire","assign","endmodule","buffer","and","not","or","xor","nor","nand"],C=Object(u["e"])(c.a.mark((function e(){var t;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["g"])(x(Object(u["r"])([Object(u["p"])(/^[a-zA-Z_]/),Object(u["o"])(Object(u["p"])(/^[a-zA-Z0-9_]+/)).map((function(e){return null===e?"":e}))])).map((function(e){return e.join("")})));case 2:if(t=e.sent,!t.isError){e.next=6;break}return e.next=6,Object(u["j"])("Invalid ID");case 6:if(!F.some((function(e){return e==t.value}))){e.next=9;break}return e.next=9,Object(u["j"])("Identifier cannot be keyword");case 9:return e.abrupt("return",t.value);case 10:case"end":return e.stop()}}),e)}))),_=(Object(u["e"])(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["f"];case 2:return t=e.sent,e.next=5,Object(u["s"])("'");case 5:return e.next=7,Object(u["s"])("b");case 7:return n=e.sent,e.next=10,u["f"];case 10:return r=e.sent,e.abrupt("return",{type:"number",bits:t,base:n,value:r});case 12:case"end":return e.stop()}}),e)}))),Object(u["e"])(c.a.mark((function e(){var t;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C;case 2:if(t=e.sent,l.some((function(e){return e==t}))){e.next=6;break}return e.next=6,Object(u["u"])((function(e){return b("Undefined variable","warning")("",e.index-t.length)}));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),T=function(e){return function(t){return console.log(e+":",t),t}},A=Object(u["e"])(c.a.mark((function e(){var t;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C.errorMap(b("Invalid identifier"));case 2:if(t=e.sent,d.some((function(e){return e==t}))){e.next=6;break}return e.next=6,Object(u["u"])((function(e){return b("Must be control variable","warning")("",e.index-t.length)}));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)}))),I=Object(u["e"])(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_;case 2:return t=e.sent,e.next=5,Object(u["o"])(y(u["f"]));case 5:return n=e.sent,e.abrupt("return",{id:t,index:n});case 7:case"end":return e.stop()}}),e)}))),q=Object(u["e"])(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["r"])([Object(u["s"])("."),C]).map((function(e){return e[1]}));case 2:return t=e.sent,e.next=5,w(I);case 5:return n=e.sent,e.abrupt("return",{param:t,mapped:n});case 7:case"end":return e.stop()}}),e)}))),S=Object(u["e"])(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x(C).errorMap((function(e){return"no module"}));case 2:return t=e.sent,e.next=5,x(C).errorMap((function(e){return"no id"}));case 5:return n=e.sent,e.next=8,w(O(x(q)));case 8:return r=e.sent,e.next=11,Object(u["s"])(";");case 11:return e.abrupt("return",{type:"instance",module:t,id:n,params:r});case 12:case"end":return e.stop()}}),e)}))),P=Object(u["e"])(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["d"])([Object(u["s"])("and"),Object(u["s"])("nand"),Object(u["s"])("or"),Object(u["s"])("xor"),Object(u["s"])("nor"),Object(u["s"])("not"),Object(u["s"])("control"),Object(u["s"])("buffer")]);case 2:return t=e.sent,e.next=5,w(O(_));case 5:return n=e.sent,e.next=8,x(Object(u["s"])(";"));case 8:return e.abrupt("return",{type:"gate",id:n[0],gate:t,params:n.slice(1)});case 9:case"end":return e.stop()}}),e)}))),R=Object(u["d"])([Object(u["c"])("&").map((function(e){return{type:"OP_AND",value:"and"}})),Object(u["c"])("|").map((function(e){return{type:"OP_OR",value:"or"}})),Object(u["c"])("^").map((function(e){return{type:"OP_XOR",value:"xor"}})),Object(u["s"])("~&").map((function(e){return{type:"OP_NAND",value:"nand"}})),Object(u["s"])("~|").map((function(e){return{type:"OP_NOR",value:"nor"}}))]),N=Object(u["r"])([Object(u["o"])(Object(u["c"])("~")),_]).map((function(e){var t=i()(e,2),n=t[0],r=t[1];return{type:"VARIABLE",value:r,invert:null!=n}})),D=function e(t){var n=f("BRACKETED_EXPRESSION");return n(t.map((function(t){return Array.isArray(t)?e(t):t})))},B=Object(u["e"])(c.a.mark((function e(){var t,n,r,a,s;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={OPEN_BRACKET:0,OPERATOR_OR_CLOSING_BRACKET:1,ELEMENT_OR_OPENING_BRACKET:2,CLOSE_BRACKET:3},n=t.ELEMENT_OR_OPENING_BRACKET,r=[],a=[r],e.next=6,Object(u["c"])("(");case 6:return e.next=9,h;case 9:if(s=e.sent,n!==t.OPEN_BRACKET){e.next=20;break}return e.next=13,Object(u["c"])("(");case 13:return r.push([]),a.push(m(r)),e.next=17,u["n"];case 17:n=t.ELEMENT_OR_OPENING_BRACKET,e.next=64;break;case 20:if(n!==t.CLOSE_BRACKET){e.next=31;break}return e.next=23,Object(u["c"])(")");case 23:if(a.pop(),0!==a.length){e.next=26;break}return e.abrupt("break",66);case 26:return e.next=28,u["n"];case 28:n=t.OPERATOR_OR_CLOSING_BRACKET,e.next=64;break;case 31:if(n!==t.ELEMENT_OR_OPENING_BRACKET){e.next=49;break}if(")"!==s){e.next=35;break}return e.next=35,Object(u["j"])("Unexpected end of expression");case 35:if("("!==s){e.next=39;break}n=t.OPEN_BRACKET,e.next=47;break;case 39:return e.t0=m(a),e.next=42,N;case 42:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.next=46,u["n"];case 46:n=t.OPERATOR_OR_CLOSING_BRACKET;case 47:e.next=64;break;case 49:if(n!==t.OPERATOR_OR_CLOSING_BRACKET){e.next=63;break}if(")"!==s){e.next=53;break}return n=t.CLOSE_BRACKET,e.abrupt("continue",6);case 53:return e.t2=m(a),e.next=56,R;case 56:return e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=60,u["n"];case 60:n=t.ELEMENT_OR_OPENING_BRACKET,e.next=64;break;case 63:throw new Error("Unknown state");case 64:e.next=6;break;case 66:return e.abrupt("return",D(r));case 67:case"end":return e.stop()}}),e)}))),M=Object(u["e"])(c.a.mark((function e(){var t,n,r,a,s,i;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["n"];case 2:t={EXPECT_ELEMENT:0,EXPECT_OPERATOR:1},n=[],r=t.EXPECT_ELEMENT;case 5:if(r!==t.EXPECT_ELEMENT){e.next=16;break}return e.next=9,Object(u["d"])([B,N]);case 9:return a=e.sent,n.push(a),r=t.EXPECT_OPERATOR,e.next=14,u["n"];case 14:e.next=33;break;case 16:if(r!==t.EXPECT_OPERATOR){e.next=33;break}return e.next=19,h;case 19:if(s=e.sent,";"!==s){e.next=26;break}return e.next=23,Object(u["c"])(";");case 23:return e.next=25,u["n"];case 25:return e.abrupt("break",35);case 26:return e.next=28,R;case 28:return i=e.sent,n.push(i),r=t.EXPECT_ELEMENT,e.next=33,u["n"];case 33:e.next=5;break;case 35:return e.abrupt("return",f("ASSIGN_EXPRESSION")(n));case 36:case"end":return e.stop()}}),e)}))),G=Object(u["e"])(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["s"])("assign ");case 2:return e.next=4,x(C).errorMap(b("Invalid assign identifier"));case 4:return t=e.sent,e.next=7,x(Object(u["s"])("="));case 7:return e.next=9,M.errorMap(b("Invalid expression"));case 9:return n=e.sent,e.abrupt("return",{type:"assign",id:t,value:n});case 11:case"end":return e.stop()}}),e)}))),L=Object(u["e"])(c.a.mark((function e(){var t;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y(Object(u["r"])([u["f"],Object(u["s"])(":"),u["f"]])).map((function(e){return[e[0],e[2]]}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),z=Object(u["r"])([x(C),Object(u["l"])(Object(u["t"])(Object(u["s"])(","))(x(C)))]).map((function(e){return e.flat()})).errorMap(b("Invalid port identifier")),W=Object(u["e"])(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["d"])([x(Object(u["s"])("input")),x(Object(u["s"])("output"))]).errorMap(b("Invalid port type: must be 'input' or 'output'"));case 2:return t=e.sent,e.next=5,Object(u["o"])(L);case 5:return n=e.sent,e.next=8,z.errorMap(T("Invalid port identifier33333"));case 8:return r=e.sent,e.abrupt("return",r.map((function(e){return{type:t,dim:n,id:e}})));case 10:case"end":return e.stop()}}),e)}))),Q=Object(u["e"])(c.a.mark((function e(){var t;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["s"])("wire ");case 2:return e.next=4,O(x(C).errorMap(b("Invalid wire identifier")));case 4:return t=e.sent,e.next=7,x(Object(u["s"])(";"));case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),K=Object(u["e"])(c.a.mark((function e(){var t,n,r,s,i,o;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["s"])("module ").errorMap(b("Expecting 'module'"));case 2:return e.next=4,x(C).errorMap(b("Invalid module identifier"));case 4:return t=e.sent,e.next=7,Object(u["o"])(w(O(W.errorMap(b("Invalid ports section")))).map((function(e){return e.flat()})));case 7:return n=e.sent,e.next=10,x(Object(u["s"])(";"));case 10:return e.next=12,Object(u["o"])(x(Q));case 12:return r=e.sent,r=r||[],l=[].concat(a()(n.map((function(e){return e.id}))),a()(r)),d=[],e.next=18,Object(u["l"])(Object(u["d"])([x(P),x(S),x(G)]));case 18:if(s=e.sent,s.forEach((function(e){"control"==e.gate&&d.push(e.id)})),"main"!=t){e.next=24;break}return e.next=23,H.errorMap(b("Invalid test block"));case 23:i=e.sent;case 24:return e.next=26,x(Object(u["s"])("endmodule"));case 26:return o={type:"module",id:t,ports:n.flat(),wires:r,statements:s},i&&(o.clock=i),e.abrupt("return",o);case 29:case"end":return e.stop()}}),e)}))),X=Object(u["e"])(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x(A);case 2:return t=e.sent,e.next=5,Object(u["s"])("=");case 5:return e.next=7,Object(u["r"])([x(E),Object(u["k"])(Object(u["a"])(E))]).map((function(e){return e[0]})).errorMap(b("Expected 0 or 1"));case 7:return n=e.sent,e.abrupt("return",{id:t,value:parseInt(n,10)});case 9:case"end":return e.stop()}}),e)}))),$=Object(u["e"])(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["s"])("#");case 2:return e.next=4,u["f"].errorMap(b("Invalid time"));case 4:return t=e.sent,e.next=7,u["n"];case 7:return e.next=9,Object(u["o"])(k(O(x(X))));case 9:return n=e.sent,n=n||[],e.next=13,Object(u["s"])(";");case 13:return e.abrupt("return",{time:parseInt(t,10),assignments:n});case 14:case"end":return e.stop()}}),e)}))),H=Object(u["e"])(c.a.mark((function e(){var t;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x(Object(u["s"])("test begin"));case 2:return e.next=4,Object(u["l"])(x($));case 4:return t=e.sent,e.next=7,x(Object(u["s"])("end"));case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),V=function(e){p=[];var t=Object(u["r"])([Object(u["m"])(x(K)),u["h"]]).map((function(e){return e[0]})).run(e);return{parseState:t,lint:p}};t["a"]=V},"1f8d":function(e,t,n){},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id="4678"},8041:function(e,t,n){"use strict";var r=n("cb9a"),a=n.n(r);a.a},"8b24":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"doc"},[n("div",{staticClass:"q-pa-md row items-start q-gutter-md justify-center"},[n("div",{staticClass:"col"},[n("q-tabs",{attrs:{"inline-label":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("q-tab",{attrs:{name:"code",label:"Code"}}),n("q-tab",{attrs:{name:"gates",label:"Gates",disable:!e.compiled.gates.length}}),n("q-tab",{attrs:{name:"trace",label:"Trace",disable:!e.compiled.simulation}}),n("q-tab",{attrs:{name:"graph",label:"Schematic",disable:!e.compiled.gates.length}})],1),n("q-tab-panels",{attrs:{"keep-alive":"",dense:"",animated:"","transition-prev":"fade","transition-next":"fade"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("q-tab-panel",{key:"code",staticClass:"q-gutter-md",attrs:{name:"code"}},[n("div",{staticClass:"row"},[n("q-card",{staticClass:"col"},[n("q-toolbar",{staticClass:"bg-grey-4 filetabs"},[e._l(e.openFiles,(function(t){return n("q-tabs",{key:t,attrs:{shrink:"",stretch:"",dense:"","inline-label":"",align:"left","no-caps":"","active-color":"white","active-bg-color":"grey-9","indicator-color":"cyan"},model:{value:e.sourceTab,callback:function(t){e.sourceTab=t},expression:"sourceTab"}},[n("q-tab",{staticClass:"filetab",attrs:{name:t,label:t,dense:""}})],1)})),n("q-space"),n("div",{staticClass:"q-gutter-sm"},[e.sourceErrors(e.sourceTab)>0?n("q-badge",{attrs:{color:"red"}},[e._v(e._s(e.sourceErrors(e.sourceTab))+"\n                    "),n("q-icon",{staticClass:"q-ml-xs",attrs:{name:"warning",color:"white"}})],1):e._e(),n("q-btn-dropdown",{attrs:{dense:"",label:"Files"}},e._l(e.allFiles,(function(t){return n("q-list",{key:t},[n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(n){return e.onOpenFile(t)}}},[n("q-item-section",[n("q-item-label",[e._v(e._s(t))])],1)],1)],1)})),1),n("q-btn",{staticClass:"all-pointer-events z-top",attrs:{size:"xs",flat:"",round:"",icon:"close"},on:{click:e.closeFile}})],1)],2),e._l(e.openFiles,(function(t){return n("q-tab-panels",{key:t,attrs:{"keep-alive":""},model:{value:e.sourceTab,callback:function(t){e.sourceTab=t},expression:"sourceTab"}},[n("q-tab-panel",{key:t,staticClass:"q-pa-none",attrs:{name:t}},[n("editor",{on:{parsed:function(n){return e.onParsed(t,n)}},model:{value:e.source[t],callback:function(n){e.$set(e.source,t,n)},expression:"source[file]"}})],1)],1)}))],2)],1),n("div",{staticClass:"row"},[n("q-card",{staticClass:"col"},[n("q-card-section",[n("div",{staticClass:"row q-gutter-md q-pb-md"},[n("q-btn",{attrs:{color:"primary","icon-right":e.compileIcon,label:"Compile",disable:e.sourceErrors(e.sourceTab)>0},on:{click:e.compile}}),n("q-btn",{attrs:{color:"secondary","icon-right":"play_arrow",label:"Simulate",disable:"success"!=e.compiled.state},on:{click:e.simulate}}),n("q-space")],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showTerminal,expression:"showTerminal"}],staticClass:"row q-pa-sm",staticStyle:{"background-color":"black"}},[n("div",{staticClass:"col",staticStyle:{height:"20vh"},attrs:{id:"terminal"}})])])],1)],1)]),n("q-tab-panel",{key:"trace",attrs:{name:"trace"}},[n("trace",{attrs:{file:e.compiled.sourceFile,simulation:e.compiled.simulation,gates:e.compiled.gates,instances:e.compiled.instances}})],1),n("q-tab-panel",{key:"gates",attrs:{name:"gates"}},[n("gates",{attrs:{file:e.compiled.sourceFile,gates:e.compiled.gates,instances:e.compiled.instances}})],1),n("q-tab-panel",{key:"graph",attrs:{name:"graph"}},[n("graph",{attrs:{file:e.compiled.sourceFile,gates:e.compiled.gates,instances:e.compiled.instances}})],1)],1)],1)])])},a=[],s=(n("6b54"),n("f576"),n("448a")),i=n.n(s),o=(n("48c0"),n("20d6"),n("ac6a"),n("cadf"),n("06db"),n("456d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("codemirror",{ref:"cmEditor",attrs:{value:e.value,options:e.cmOptions},on:{ready:e.onReady,input:e.onChange}})}),c=[],u=n("bad6"),l=u["a"],d=(n("a796"),n("2877")),p=Object(d["a"])(l,o,c,!1,null,null,null),b=p.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md q-gutter-md"},[n("q-card",[n("q-card-section",[n("q-btn",{attrs:{label:"Redraw"},on:{click:e.redraw}}),n("q-radio",{attrs:{val:"force",label:"Force"},model:{value:e.layout,callback:function(t){e.layout=t},expression:"layout"}}),n("q-radio",{attrs:{val:"dagre",label:"Dagre"},model:{value:e.layout,callback:function(t){e.layout=t},expression:"layout"}}),"force"==e.layout?n("q-slider",{attrs:{min:10,max:300,step:25},model:{value:e.linkDistance,callback:function(t){e.linkDistance=t},expression:"linkDistance"}}):e._e(),n("q-checkbox",{attrs:{label:"Node Labels"},model:{value:e.showNodeLabels,callback:function(t){e.showNodeLabels=t},expression:"showNodeLabels"}})],1),n("q-separator"),n("q-card-section",[n("div",{ref:"graph"})])],1)],1)},m=[],h=(n("28a5"),n("30d1")),g=n.n(h);g.a.registerEdge("can-running",{setState:function(e,t,n){var r=n.get("keyShape");if("running"===e)if(t){var a=0;r.animate((function(){a++,a>9&&(a=0);var e={lineDash:[4,2,1,2],lineDashOffset:-a};return e}),{repeat:!0,duration:3e3})}else r.stopAnimate(),r.attr("lineDash",null)}},"cubic-horizontal");var v={props:["gates","instances"],data:function(){return{graph:null,layout:"dagre",showNodeLabels:!1,linkDistance:150}},watch:{graphData:function(e){console.log("graphData Watch"),this.graph.data(e),this.graph.render()},graphConfig:function(e){console.log("graphConfig Watch"),this.graph.updateLayout(e.layout)}},methods:{redraw:function(){console.log("redraw"),this.graph.data(this.graphData),this.graph.render()}},computed:{graphConfig:function(){return"force"==this.layout?{layout:{type:"force",preventOverlap:!0,linkDistance:this.linkDistance}}:"dagre"==this.layout?{layout:{type:"dagre",rankdir:"LR",align:"DL",controlPoints:!0,nodesepFunc:function(){return 1},ranksepFunc:function(){return 1}}}:{layout:{type:"force"}}},graphData:function(){var e=this;if(this.gates){var t={nodes:this.gates.map((function(t){return{id:t.id,label:e.showNodeLabels?t.id.substring(t.id.lastIndexOf(".")+1):null,description:t.id,type:"circle",icon:{show:!0,img:"statics/"+t.logic+".svg"},comboId:t.instance}})),edges:this.gates.map((function(e){return e.inputs?e.inputs.map((function(t){return{source:t,target:e.id}})):null})).flat().filter((function(e){return e})),combos:this.instances.map((function(e){var t=e.id.substring(0,e.id.lastIndexOf(".")),n=e.id.split(".").length-1,r={id:e.id,label:e.id.substring(e.id.lastIndexOf(".")+1),style:{fillOpacity:.3*n}};return""!=t&&(r.parentId=t),r}))};return console.log("graphData Computed: ",t),t}return{}}},mounted:function(){var e=this;this.graph=new g.a.Graph({container:this.$refs.graph,width:700,height:600,groupByTypes:!1,fitView:!0,fitViewPadding:20,layout:this.graphConfig.layout,defaultNode:{type:"circle",size:30,style:{},linkPoints:{top:!1,bottom:!1,left:!1,right:!0,fill:"#fff",size:5},anchorPoints:[[0,.25],[0,.75],[0,.5],[1,.25],[1,.75],[1,.5]],sourceAnchor:3,targetAnchor:0,labelCfg:{style:{fill:"#1890ff",fontSize:6},position:"bottom"}},defaultEdge:{type:"can-running",style:{endArrow:{path:g.a.Arrow.triangle(3,3),d:0},startArrow:!1,stroke:"#999"}},defaultCombo:{type:"rect",anchorPoints:[[0,.25],[0,.75],[0,.5],[1,.5]],sourceAnchor:3,targetAnchor:0},nodeStateStyles:{active:{opacity:1},inactive:{opacity:.4}},edgeStateStyles:{active:{stroke:"#F6BD16",lineWidth:3,opacity:1},inactive:{opacity:.4,stroke:"#999",lineWidth:1}},modes:{default:["drag-node","drag-canvas","drag-combo","collapse-expand-combo","zoom-canvas",{type:"tooltip",formatText:function(e){var t=e.description;return t},offset:30}]}}),this.graph.on("node:mouseenter",(function(t){var n=e.graph.getEdges();n.forEach((function(e){e.update({style:{opacity:.3}})}));var r=t.item;n=r.getEdges(),n.forEach((function(t){t.update({style:{opacity:1,lineWidth:2,endArrow:{path:g.a.Arrow.triangle(0,0,0),d:0}}}),e.graph.setItemState(t,"running",!0)}))})),this.graph.on("node:mouseleave",(function(t){var n=e.graph.getEdges();n.forEach((function(e){e.update({style:{opacity:1,lineWidth:1,endArrow:{path:g.a.Arrow.triangle(4,4,0),d:0}}})}));var r=t.item;n=r.getEdges(),n.forEach((function(t){return e.graph.setItemState(t,"running",!1)}))}))}},j=v,x=(n("eb33"),n("f09f")),O=n("a370"),w=n("9c40"),k=n("3786"),y=n("c1d0"),E=n("8f8e"),F=n("eb85"),C=n("eebe"),_=n.n(C),T=Object(d["a"])(j,f,m,!1,null,null,null),A=T.exports;_()(T,"components",{QCard:x["a"],QCardSection:O["a"],QBtn:w["a"],QRadio:k["a"],QSlider:y["a"],QCheckbox:E["a"],QSeparator:F["a"]});var I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-sm q-gutter-sm"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-3"},[n("div",{staticClass:"text-subtitle2"},[e._v(e._s(e.file))]),n("q-tree",{attrs:{nodes:e.instanceTree,"node-key":"id","selected-color":"primary",selected:e.instanceID,"default-expand-all":""},on:{"update:selected":function(t){e.instanceID=t}}})],1),n("div",{staticClass:"col-9 q-gutter-md"},[n("div",{staticClass:"row"},[n("q-radio",{attrs:{val:"all",label:"All"},model:{value:e.showWhichGates,callback:function(t){e.showWhichGates=t},expression:"showWhichGates"}}),n("q-radio",{attrs:{val:"inputs",label:"Inputs"},model:{value:e.showWhichGates,callback:function(t){e.showWhichGates=t},expression:"showWhichGates"}}),n("q-radio",{attrs:{val:"outputs",label:"Outputs"},model:{value:e.showWhichGates,callback:function(t){e.showWhichGates=t},expression:"showWhichGates"}})],1),e.selectedInstance?n("div",e._l(e.selectedGates,(function(t){return n("div",{key:t.globalid,staticClass:"row"},[n("div",{staticClass:"col-9"},[n("trace-chart",{attrs:{"chart-data":e.tracedata(t.globalid),options:e.traceoptions}})],1),n("div",{staticClass:"col-3"},[n("div",{staticClass:"text-caption"},[e._v(e._s(t.globalid))]),n("div",{staticClass:"text-caption"},[e._v(e._s(t.instanceid))])])])})),0):e._e()])])])},q=[],S=(n("8e6e"),n("8a81"),n("9523")),P=n.n(S),R=n("1fca"),N=R["b"].reactiveProp,D={extends:R["a"],mixins:[N],props:{options:{type:Object,default:null},height:{type:String,default:"100px"}},mounted:function(){this.renderChart(this.chartData,this.options)}},B=(n("7514"),{data:function(){return{instanceID:"main",showWhichGates:"all"}},computed:{selectedInstance:function(){return this.getInstance(this.instanceID)},instanceTree:function(){var e=this,t=function t(n){var r=e.instances.find((function(e){return e.id==n}));return{label:r.id.slice(r.id.lastIndexOf(".")+1),id:r.id,children:r.instances.map((function(e){return t(e)}))}};return[t("main")]},selectedGates:function(){var e=this.selectedInstance;switch(this.showWhichGates){case"all":return[].concat(i()(e.inputs),i()(e.wires),i()(e.outputs));case"wires":return i()(e.wires);case"outputs":return i()(e.outputs);case"inputs":return i()(e.inputs)}return[]}},methods:{getGate:function(e){return this.gates.find((function(t){return t.id==e}))},getInstance:function(e){return this.instances.find((function(t){return t.id==e}))}}});function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L={props:["simulation","gates","instances","file"],mixins:[B],components:{TraceChart:D},data:function(){return{}},methods:{tracedata:function(e){return{labels:this.simulation.time,datasets:[G(G({},this.traceColor(e)),{},{label:e,data:this.simulation[e],steppedLine:!0,pointRadius:0})]}},traceColor:function(e){return this.selectedInstance.outputs.some((function(t){return t.globalid==e}))?{backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)"}:this.selectedInstance.inputs.some((function(t){return t.globalid==e}))?{backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)"}:void 0}},computed:{clockData:function(){return{labels:this.simulation.time,datasets:[{label:"clock",data:this.simulation.clock,steppedLine:!0,pointRadius:0}]}},traceoptions:function(){return{legend:{display:!1},scales:{yAxes:[{ticks:{stepSize:1}}]}}}}},z=L,W=n("7f41"),Q=Object(d["a"])(z,I,q,!1,null,null,null),K=Q.exports;_()(Q,"components",{QTree:W["a"],QRadio:k["a"]});var X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md q-gutter-md"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-3"},[n("div",{staticClass:"text-subtitle2"},[e._v(e._s(e.file))]),n("q-tree",{attrs:{nodes:e.instanceTree,"node-key":"id","selected-color":"primary",selected:e.instanceID,"default-expand-all":""},on:{"update:selected":function(t){e.instanceID=t}}})],1),n("div",{staticClass:"col-9 q-gutter-md"},[n("div",{staticClass:"row"},[n("q-radio",{attrs:{val:"all",label:"All"},model:{value:e.showWhichGates,callback:function(t){e.showWhichGates=t},expression:"showWhichGates"}}),n("q-radio",{attrs:{val:"outputs",label:"Outputs"},model:{value:e.showWhichGates,callback:function(t){e.showWhichGates=t},expression:"showWhichGates"}})],1),n("div",{staticClass:"row"},[n("q-markup-table",[n("thead",[n("tr",[n("th",[e._v("GlobalID")]),n("th",[e._v("InstanceID")]),n("th",[e._v("Function")]),n("th",[e._v("Inputs")]),n("th",[e._v("State")])])]),n("tbody",e._l(e.selectedGates,(function(t){return n("tr",{key:t.globalid},[n("td",[e._v(e._s(t.globalid))]),n("td",[e._v(e._s(t.instanceid))]),n("td",[e._v(e._s(e.getGate(t.globalid).logic))]),n("td",[e._v(e._s(e.getGate(t.globalid).inputs.join(", ")))]),n("td",[e._v(e._s(e.getGate(t.globalid).state))])])})),0)])],1)])])])},$=[],H=(n("1c16"),{props:["gates","instances","file"],mixins:[B],data:function(){return{showWhichGates:"all"}}}),V=H,U=n("2bb1"),Y=Object(d["a"])(V,X,$,!1,null,null,null),Z=Y.exports;_()(Y,"components",{QTree:W["a"],QRadio:k["a"],QMarkupTable:U["a"]});var J,ee,te,ne=n("149f"),re=(n("8615"),function e(t,n){""!==t&&(t+=".");var r=J[n.module],a=n.params.reduce((function(e,a){return e[a.param]={globalid:t+a.mapped.id,type:"port",moduleid:a.param,instanceid:t+n.id+"."+a.param,porttype:r.ports.find((function(e){return e.id==a.param})).type},e}),{}),s=function(e){return a[e]={globalid:t+n.id+"."+e,instanceid:t+n.id+"."+e,moduleid:e,type:"wire"},a[e].globalid};r.wires.forEach(s);var i=function(e){return te.push({id:a[e.id].instanceid,logic:e.gate,inputs:e.params.map((function(e){return a[e].globalid})),instance:t+n.id,state:0}),a[e.id].moduleid};r.statements.filter((function(e){return"gate"==e.type})).forEach(i);var o=function e(t,n){var r;if("BRACKETED_EXPRESSION"==t.type||"ASSIGN_EXPRESSION"==t.type){for(var o=t.value,c=1;c<o.length;c+=2){var u=c==o.length-2?n:n+"op"+c;a[u]||s(u),r=i({id:u,gate:o[c].value,params:[1==c?e(o[c-1],n+"op"+(c-1)):r,e(o[c+1],n+"op"+(c+1))]})}return r}if("VARIABLE"==t.type){if(r=t.value,t.invert){if(!a["not"+r]){s("not"+r);i({id:"not"+r,gate:"not",params:[r]})}return"not"+r}return r}throw new Error("vlgWalker shouldn't be here. Node is not VARIABLE or EXPRESSION")};r.statements.filter((function(e){return"assign"==e.type})).forEach((function(e){return o(e.value,e.id)}));var c={id:t+n.id,inputs:Object.values(a).filter((function(e){return"port"==e.type&&"input"==e.porttype})),outputs:Object.values(a).filter((function(e){return"port"==e.type&&"output"==e.porttype})),wires:Object.values(a).filter((function(e){return"wire"==e.type})),instances:[]};return r.statements.filter((function(e){return"instance"==e.type})).forEach((function(r){var a=e(t+n.id,r);a.outputs.forEach((function(e){te.find((function(t){return t.id==e.globalid})).inputs.push(e.instanceid)})),c.instances.push(a.id)})),ee.push(c),c}),ae=function(e){J=e.reduce((function(e,t){return"module"==!t.type?(console.log("top level of ast should be modules only"),e):(e[t.id]=t,e)}),{}),te=[],ee=[];var t={params:J.main.ports.map((function(e){return{param:e.id,mapped:{id:"main."+e.id}}})),id:"main",module:"main"};return re("",t),{instances:ee,gates:te}},se=ae,ie=(n("abb2"),n("fcf3")),oe=n("47d0"),ce="// One bit full adder\r\n\r\nmodule SingleStage (\r\n  input a,\r\n  input b,\r\n  input cin,\r\n  output s,\r\n  output cout );\r\n\r\n  wire w1, w2, w3;\r\n\r\n  and( w1, a, b );\r\n  and( w2, a, cin );\r\n  and( w3, b, cin );\r\n  or( cout, w1, w2, w3 );\r\n\r\n  xor( s, a, b, cin );\r\n\r\nendmodule\r\n\r\nmodule main(\r\n  output sum,\r\n  output cout);\r\n\r\n  wire a, b, cin;\r\n\r\n  control(a);\r\n  control(b);\r\n  control(cin);\r\n\r\n  SingleStage uut(\r\n\t\t.a(a),\r\n\t\t.b(b),\r\n\t\t.cin(cin),\r\n\t\t.s(sum),\r\n\t\t.cout(cout)\r\n  );\r\n\r\n  buffer(sum);\r\n  buffer(cout);\r\n\r\n\ttest begin\r\n\t\t#0  {a=0, b=0, cin=0};\r\n    #2  {a=0, b=0, cin=0};\r\n    #4  {a=0, b=0, cin=1};\r\n    #6  {a=0, b=1, cin=0};\r\n    #8  {a=0, b=1, cin=1};\r\n    #10 {a=1, b=0, cin=0};\r\n    #12 {a=1, b=0, cin=1};\r\n    #14 {a=1, b=1, cin=0};\r\n    #16 {a=1, b=1, cin=1};\r\n\tend\r\nendmodule",ue="// D Flip Flop\r\n\r\nmodule DFF (\r\n\tinput clk,\r\n\tinput dIn,\r\n\toutput q);\r\n\r\n\twire not_d_in, d_nand_a, d_nand_c, q_;\r\n\r\n\tnot( not_d_in, dIn );\r\n\tnand( d_nand_a, dIn, clk );\r\n\tnand( q, d_nand_a, q_ );\r\n\tnand( d_nand_c, not_d_in, clk );\r\n  nand( q_, d_nand_c, q);\r\nendmodule\r\n\r\nmodule DFFE (\r\n  input clk,\r\n  input dIn,\r\n  input dEnable,\r\n  output q);\r\n\r\n  wire gatedClk, dInB;\r\n  and( gatedClk, clk, dEnable );\r\n  buffer( dInB, dIn) ;\r\n\r\n  DFF dff( .clk(gatedClk), .dIn(dInB), .q(q));\r\n\r\n  buffer(q);\r\nendmodule\r\n\r\nmodule main(output q);\r\n\r\n  wire A, E, clock;\r\n\r\n  control(A);\r\n  control(E);\r\n  control(clock);\r\n\r\n  DFFE dffe(.clk(clock), .dIn(A), .dEnable(E), .q(q));\r\n\r\n  buffer(q);\r\n\r\n  test begin\r\n    #0  { E=1 };\r\n    #1  { A=1, E=0 };\r\n    #7  { E=1 };\r\n    #9  { A=0, E=0 };\r\n    #12;\r\n  end\r\nendmodule",le="// template to show basic syntax\r\n\r\nmodule MyModule (\r\n  input a, b,\r\n  output X, Y );\r\n\r\n  // gate format: logicFn(id, input1, input2)\r\n  and( X, a, b );\r\n  or(  Y, a, b );\r\n\r\n  // alternative bitwise format\r\n  // assign X = a & b;\r\nendmodule\r\n\r\nmodule main(\r\n  output o1, o2);\r\n\r\n  // wires act as local variables/gates\r\n  wire user1, user2, cin;\r\n\r\n  // control is an external button/sensor\r\n  // control state is set in the testbench\r\n  control(user1);\r\n  control(user2);\r\n\r\n  // declare foo as an instance (copy) of MyModule\r\n  // map the input/output parameters of MyModule to the calling namespace\r\n  // .moduleParameter(callingNamespaceVariable)\r\n  MyModule foo(\r\n\t\t.a(user1),\r\n\t\t.b(user2),\r\n\t\t.x(o1),\r\n\t\t.y(o2)\r\n  );\r\n\r\n  // foo needs something to wire it's outputs to in main\r\n  buffer(o1);\r\n  buffer(o2);\r\n\r\n  // main module should have a testbench to set control states\r\n  // format: #time {controlVar=val,...}\r\n  test begin\r\n    #0  {user1=0, user2=0};\r\n    #2  {user1=0, user2=1};\r\n    #4  {user1=1, user2=0};\r\n    #6  {user1=1, user2=1};\r\n  end\r\nendmodule",de="/* 2 to 4 one hot decoder\r\na b | F3 F2 F1 F0\r\n0 0 |  0  0  0  1 \r\n0 1 |  0  0  1  0\r\n1 0 |  0  1  0  0\r\n1 1 |  1  0  0  0\r\n*/\r\n\r\n// using bitwise assigns\r\nmodule OneHotDecoderBitwise (\r\n  input a, b,\r\n  output F3, F2, F1, F0);\r\n\r\n  assign F0 = ~a & ~b;\r\n  assign F1 = ~a & b;\r\n  assign F2 = a & ~b;\r\n  assign F3 = a & b;\r\nendmodule\r\n\r\n// using standard gate statements\r\nmodule OneHotDecoder (\r\n  input a, b,\r\n  output F3, F2, F1, F0);\r\n\r\n  wire nota, notb;\r\n  not(nota, a);\r\n  not(notb, b);\r\n\r\n  and(F0, nota, notb);\r\n  and(F1, nota, b);\r\n  and(F2, a, notb);\r\n  and(F3, a, b);\r\nendmodule\r\n\r\nmodule main(\r\n  output F3, F2, F1, F0);\r\n\r\n  wire a, b;\r\n  control(a);\r\n  control(b);\r\n\r\n  // OneHotDecoder ohd(\r\n  OneHotDecoderBitwise ohd(\r\n\t\t.a(a),\r\n\t\t.b(b),\r\n\t\t.F3(F3),\r\n\t\t.F2(F2),\r\n\t\t.F1(F1),\r\n\t\t.F0(F0)\r\n  );\r\n\r\n  buffer(F3);\r\n  buffer(F2);\r\n  buffer(F1);\r\n  buffer(F0);\r\n\r\n  test begin\r\n\t\t#0  {a=0, b=0};\r\n    #2  {a=0, b=1};\r\n    #4  {a=1, b=0};\r\n    #6  {a=1, b=1};\r\n    #8;\r\n\tend\r\nendmodule",pe="/* 7 segment display decoder\r\n  a\r\nf   b\r\n  g\r\ne   c\r\n  d\r\n\r\nA B C | Fa Fb Fc Fd Fe Ff Fg\r\n0 0 0 |  1  1  1  1  1  1  0 \r\n0 0 1 |  0  1  1  0  0  0  0\r\n0 1 0 |  1  1  0  1  1  0  1\r\n0 1 1 |  1  1  1  1  0  0  1\r\n1 0 0 |  0  1  1  0  0  1  1 \r\n1 0 1 |  1  0  1  1  0  1  1\r\n1 1 0 |  1  0  1  1  1  1  1\r\n1 1 1 |  1  1  1  0  0  0  0\r\n*/\r\n\r\n// using standard gate statements\r\nmodule SevenSeg(\r\n  input A, B, C,\r\n  output Fa, Fb, Fc, Fd, Fe, Ff, Fg);\r\n\r\n  assign Fa = (~A & ~C) | B        | (A & C);\r\n  assign Fb = (~B & ~C) | ~A       | (B & C);\r\n  assign Fc = A         | ~B       | C;\r\n  assign Fd = (~A & ~C) | (~A & B) | (B & ~C) | (A & ~B & C);\r\n  assign Fe = (~A & ~C) | (B & ~C);\r\n  assign Ff = (~B & ~C) | (A & ~C) | (A & ~B);\r\n  assign Fg = (~A & B)  | (A & ~C) | (A & ~B);\r\nendmodule\r\n\r\nmodule main(\r\n  output Fa, Fb, Fc, Fd, Fe, Ff, Fg);\r\n\r\n  wire a, b, c;\r\n\r\n  control(a);\r\n  control(b);\r\n  control(c);\r\n\r\n  SevenSeg ss(\r\n\t\t.A(a),\r\n\t\t.B(b),\r\n\t\t.C(c),\r\n    .Fa(Fa),\r\n    .Fb(Fb),\r\n    .Fc(Fc),\r\n    .Fd(Fd),\r\n    .Fe(Fe),\r\n    .Ff(Ff),\r\n    .Fg(Fg)\r\n  );\r\n\r\n  buffer(Fa);\r\n  buffer(Fb);\r\n  buffer(Fc);\r\n  buffer(Fd);\r\n  buffer(Fe);\r\n  buffer(Ff);\r\n  buffer(Fg);\r\n\r\n  test begin\r\n    #00 {a=0, b=0, c=0}; // should get 1 1 1 1 1 1 0\r\n    #02 {a=0, b=0, c=1}; // should get 0 1 1 0 0 0 0\r\n    #04 {a=0, b=1, c=0}; // should get 1 1 0 1 1 0 1\r\n    #06 {a=0, b=1, c=1}; // should get 1 1 1 1 0 0 1\r\n    #08 {a=1, b=0, c=0}; // should get 0 1 1 0 0 1 1 \r\n    #10 {a=1, b=0, c=1}; // should get 1 0 1 1 0 1 1\r\n    #12 {a=1, b=1, c=0}; // should get 1 0 1 1 1 1 1\r\n    #14 {a=1, b=1, c=1}; // should get 1 1 1 0 0 0 0\r\n    #16;\r\n\tend\r\nendmodule",be="/* 2 to 1 Multiplexer\r\nSel selects which input to pass to output\r\nsel a b | F\r\n 0  0 0 | 0 \r\n 0  0 1 | 0 \r\n 0  1 0 | 1 \r\n 0  1 1 | 1 \r\n----------- \r\n 1  0 0 | 0\r\n 1  0 1 | 1\r\n 1  1 0 | 0\r\n 1  1 1 | 1\r\n */\r\n\r\nmodule Mux2_1 (\r\n\tinput sel,\r\n\tinput a, b,\r\n\toutput F);\r\n\r\n\tassign F = (~sel & a) | (sel & b);\r\nendmodule\r\n\r\nmodule main(output F);\r\n  wire a, b, sel;\r\n\r\n  control(a);\r\n  control(b);\r\n  control(sel);\r\n\r\n  Mux2_1 mux(.a(a), .b(b), .sel(sel), .F(F));\r\n  buffer(F);\r\n\r\n  test begin\r\n    #01 {sel=0, a=0, b=0}; // expect 0 \r\n    #02 {sel=0, a=0, b=1}; // expect 0 \r\n    #03 {sel=0, a=1, b=0}; // expect 1 \r\n    #04 {sel=0, a=1, b=1}; // expect 1 \r\n    #05 {sel=1, a=0, b=0}; // expect 0\r\n    #06 {sel=1, a=0, b=1}; // expect 1\r\n    #07 {sel=1, a=1, b=0}; // expect 0\r\n    #08 {sel=1, a=1, b=1}; // expect 1\r\n    #09;\r\n  end\r\nendmodule",fe=n("2b0e"),me=n("53f4"),he={enabled:!0,level:2},ge=new me.Instance(he),ve=function(e){var t=e.join(", ");return t.length<21?t:t.slice(0,40)+"..."},je=function(e,t){return e.reduce((function(e,n){return e[n[t]]=n,e}),{})},xe=function(e){return 1&~e},Oe={not:function(e){return 1&~e},buffer:function(e){return e},and2:function(e,t){return e&&t},nand2:function(e,t){return xe(e&&t)},or2:function(e,t){return e||t},nor2:function(e,t){return xe(e||t)},xor2:function(e,t){return e^t},xnor2:function(e,t){return xe(e^t)},and3:function(e,t,n){return e&&t&&n},nand3:function(e,t,n){return xe(e&&t&&n)},or3:function(e,t,n){return e||t||n},nor3:function(e,t,n){return xe(e||t||n)},xor3:function(e,t,n){return e^t^n},xnor3:function(e,t,n){return xe(e^t^n)}},we=function(e,t){var n=function(e){var n=e.logic;if(1!=e.inputs.length){var r=t[e.inputs[0]],a=t[e.inputs[1]];if(2!=e.inputs.length)if(3!=e.inputs.length);else{var s=t[e.inputs[2]];e.state="x"===r||"x"===a||"x"===s?"x":Oe[n+"3"](r.state,a.state,s.state)}else e.state="x"===r||"x"===a?"x":Oe[n+"2"](r.state,a.state)}else{if("not"!=n&&"buffer"!=n)return void console.log("Gate evaluation error - 1 input only valid for not and buffer gates");var i=t[e.inputs[0]];if(!i)throw console.log(e.inputs[0]),new Error("component not found");e.state="x"===i?"x":Oe[n](i.state)}};e.forEach((function(e){if("control"!==e.logic)return n(e)}))},ke={name:"PageIndex",components:{Editor:b,Graph:A,Gates:Z,Trace:K},data:function(){return{terminal:{},showTerminal:!0,fitAddon:{},compiled:{state:"uncompiled",sourceFile:"",parseTree:{lint:[]},gates:[],instances:[],simulation:{}},tab:"code",layout:"dagre",source:{BitAdder:ce,DFF:ue,Scratch:le,OneHotDecoder:de,SevenSeg:pe,Mux2_1:be},sourceTab:"Mux2_1",openFiles:["Scratch","OneHotDecoder","SevenSeg","Mux2_1"],errors:{}}},computed:{allFiles:function(){return Object.keys(this.source)},compileIcon:function(){return"success"==this.compiled.state?"check_circle":"error"==this.compiled.state?"error_outline":"replay"}},methods:{closeFile:function(){var e=this,t=this.openFiles.findIndex((function(t){return t==e.sourceTab}));this.openFiles.splice(t,1),this.sourceTab=this.openFiles[t%this.openFiles.length]},sourceErrors:function(e){return this.errors[e]},onParsed:function(e,t){fe["a"].set(this.errors,e,t)},onOpenFile:function(e){this.openFiles.some((function(t){return t==e}))||this.openFiles.push(e),this.sourceTab=e},termWriteln:function(e){this.terminal.write(e+"\n\r"),this.terminal.scrollToBottom()},compile:function(){this.showTerminal=!0,this.compiled.sourceFile=this.sourceTab,this.termWriteln(ge.bold.green("• Compiling: ")+ge.yellow(this.sourceTab));var e=Object(ne["a"])(this.source[this.sourceTab]).parseState;if(console.log("Parse: ",e),e.isError)return this.compiled.state="error",void this.termWriteln(ge.red("└── Parser error: ")+e.error);this.compiled.state="success",this.compiled.parseTree=e.result,this.termWriteln(ge.green("├── Parsed ".concat(this.compiled.parseTree.length," modules: ").concat(ge.white(this.compiled.parseTree.map((function(e){return e.id})).join(", ")))));var t=se(this.compiled.parseTree);console.log("Walk: ",t),this.compiled.instances=i()(t.instances),this.compiled.gates=i()(t.gates),this.termWriteln(ge.green("├── Generated ".concat(this.compiled.instances.length," instances: ").concat(ge.white(ve(this.compiled.instances.map((function(e){return e.id}))))))),this.termWriteln(ge.green("└── Generated ".concat(this.compiled.gates.length," gates: ").concat(ge.white(ve(this.compiled.gates.map((function(e){return e.id}))))))),this.termWriteln(ge.green.inverse(" DONE ")+"  Compiled successfully")},simulate:function(){var e=this;this.showTerminal=!0,this.termWriteln(ge.bold.cyan("• Simulating: ")+ge.yellow(this.compiled.sourceFile));var t=5;this.compiled.simulation={},this.compiled.gates.forEach((function(t){e.compiled.simulation[t.id]=[]}));var n=je(this.compiled.gates,"id"),r=je(this.compiled.instances,"id"),a=je(this.compiled.parseTree,"id"),s=a.main.clock.reduce((function(e,t){return Math.max(t.time,e)}),0);this.compiled.simulation.time=[],n["main.clock"]&&(n["main.clock"].state=0);for(var i=function(s){e.compiled.simulation.time.push(s),a.main.clock.forEach((function(e){e.time==s&&e.assignments.forEach((function(e){"control"==n["main."+e.id].logic&&(n["main."+e.id].state=e.value)}))})),n["main.clock"]&&(n["main.clock"].state=1&~n["main.clock"].state);for(var i=0;i<t;i++)we(e.compiled.gates,n);e.compiled.gates.forEach((function(t){e.compiled.simulation[t.id].push(n[t.id].state)})),a.main.clock.forEach((function(t,a,i){if(t.time==s){var o=a==i.length-1?"└":"├";e.termWriteln(ge.cyan("".concat(o,"── Time ").concat(s.toString().padStart(3,"0")," :"))+ve(t.assignments.map((function(e){return e.id+"="+e.value})))+ge.cyan(" => ")+ve(r.main.outputs.map((function(e){return e.moduleid+"="+n[e.globalid].state}))))}}))},o=0;o<=s;o++)i(o);this.termWriteln(ge.cyan.inverse(" DONE ")+"  Simulated successfully")}},mounted:function(){this.terminal=new ie["Terminal"]({rows:40}),this.fitAddon=new oe["FitAddon"],this.terminal.loadAddon(this.fitAddon),this.terminal.open(document.getElementById("terminal")),this.fitAddon.fit()}},ye=ke,Ee=(n("8041"),n("9989")),Fe=n("429b"),Ce=n("7460"),_e=n("adad"),Te=n("823b"),Ae=n("65c6"),Ie=n("2c91"),qe=n("58a8"),Se=n("0016"),Pe=n("f20b"),Re=n("1c1c"),Ne=n("66e5"),De=n("4074"),Be=n("0170"),Me=n("7f67"),Ge=Object(d["a"])(ye,r,a,!1,null,null,null);t["default"]=Ge.exports;_()(Ge,"components",{QPage:Ee["a"],QTabs:Fe["a"],QTab:Ce["a"],QTabPanels:_e["a"],QTabPanel:Te["a"],QCard:x["a"],QToolbar:Ae["a"],QSpace:Ie["a"],QBadge:qe["a"],QIcon:Se["a"],QBtnDropdown:Pe["a"],QList:Re["a"],QItem:Ne["a"],QItemSection:De["a"],QItemLabel:Be["a"],QBtn:w["a"],QSeparator:F["a"],QCardSection:O["a"]}),_()(Ge,"directives",{ClosePopup:Me["a"]})},"9aff":function(e,t,n){"use strict";n("3b2b"),n("4917"),n("386d");var r=n("56b3"),a=n.n(r);n("149f"),n("5068");String.prototype.regexIndexOf=function(e,t){var n=this.substring(t||0).search(e);return n>=0?n+(t||0):n},a.a.defineSimpleMode("vlg",{meta:{lineComment:"//"},start:[{regex:/"(?:[^\\]|\\.)*?(?:"|$)/,token:"string"},{regex:/(?:module|begin)/,token:"def",indent:!0},{regex:/(?:input|output|endmodule|end)\b/,token:"def"},{regex:/(?:not|and|or|xor|nand|control|buffer)\b/,token:"keyword"},{regex:/(?:wire|test|assign)\b/,token:"variable-2"},{regex:/true|false|null|undefined/,token:"atom"},{regex:/0x[a-f\d]+|[-+]?(?:\.\d+|\d+\.?\d*)(?:e[-+]?\d+)?/i,token:"number"},{regex:/\/\/.*/,token:"comment"},{regex:/\/(?:[^\\]|\\.)*?\//,token:"variable-3"},{regex:/\/\*/,token:"comment",next:"comment"},{regex:/[-+\/*=<>!]+/,token:"operator"},{regex:/[\{\[\(]/,indent:!0},{regex:/[\}\]\)]/,dedent:!0},{regex:/[a-zA-Z$][\w$]*/,token:"variable"}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}]}),a.a.registerHelper("fold","vlg",(function(e,t){function n(e,t){var n=t&&t.match(/^(begin|module)+/);return n}var r=e.getLine(t.line),s=n(t.line,r);if(s){var i=e.lastLine(),o=t.line,c=e.getLine(o+1);while(o<i){if(n(o+1,c))break;++o,c=e.getLine(o+1)}return{from:a.a.Pos(t.line,r.length),to:a.a.Pos(o,e.getLine(o).length)}}}));var s={start:["nand(","and(","or(","xor(","nor(","not(","control","input","output","wire","assign"],none:["module"]};a.a.registerHelper("hint","dictionaryHint",(function(e){var t=e.getCursor(),n=e.getLine(t.line),r=t.ch,i=r,o=e.getTokenAt(e.getCursor()).state;while(i<n.length&&/[\w$]/.test(n.charAt(i)))++i;while(r&&/[\w$]/.test(n.charAt(r-1)))--r;var c=r!==i&&n.slice(r,i),u=new RegExp("^"+c,"i");return{list:(c?s[o.state].filter((function(e){return e.match(u)})):s[o.state]).sort(),from:a.a.Pos(t.line,r),to:a.a.Pos(t.line,i)}})),a.a.commands.autocomplete=function(e){a.a.showHint(e,a.a.hint.dictionaryHint)},a.a.commands.snippet=function(e){a.a.showHint(e,o)};var i=[{text:"module Name (\n   input A,B,C,\n   output X,Y);\n   // statements here\nendmodule",displayText:"module definition"},{text:"ModuleName instanceName(\n  .p1(m1), // .instanceParamater(LocalVar)\n  .p2(m2),\n  .p3(m3)\n);",displayText:"instance declaration"},{text:"and(gateID, input1, input2);",displayText:"gate declaration"},{text:"assign ID = (A & B);",displayText:"assign declaration"}];function o(e){var t=e.getCursor(),n=e.getTokenAt(t),r=n.start,s=t.ch,o=t.line,c=n.string,u=i.filter((function(e){return e.text.indexOf(c)>=0}));return{list:u.length?u:i,from:a.a.Pos(o,r),to:a.a.Pos(o,s)}}},a12c:function(e,t,n){},a796:function(e,t,n){"use strict";var r=n("1f8d"),a=n.n(r);a.a},bad6:function(e,t,n){"use strict";(function(e){var r=n("8f94"),a=n("56b3"),s=n.n(a),i=(n("76ae"),n("10b2"),n("8c33"),n("8822"),n("0dd0"),n("9b74"),n("f6b6"),n("7289"),n("4895"),n("cbc8"),n("697e"),n("149f"));n("9aff"),n("a7be"),n("7a7a");e.CodeMirror=s.a;var o=n("5068");t["a"]={components:{codemirror:r["codemirror"]},props:["value"],data:function(){return{parser:i["a"],cmOptions:{viewportMargin:1/0,tabSize:2,indentUnit:2,mode:"vlg",theme:"monokai",lineNumbers:!0,line:!0,extraKeys:{"Ctrl-Space":"autocomplete","Shift-Ctrl-Space":"snippet","Ctrl-/":"toggleComment","Ctrl-Q":function(e){e.foldCode(e.getCursor())}},lint:{selfContain:!0,getAnnotations:this.vlgValidator},autoCloseBrackets:!0,matchBrackets:!0,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"],foldGutter:!0}}},methods:{vlgValidator:function(e,t,n){if(0==e.length)return[];var r=[],a=this.parser(e),i=o(e,{origin:0}),c=function(t,n,a){var o=i.fromIndex(n),c=i.fromIndex(Math.max(e.regexIndexOf(/[\s\(\)\[\]\{\},=]/,n),n));r.push({message:t,severity:a,from:s.a.Pos(o.line,o.col),to:s.a.Pos(c.line,c.col)})};return a.lint.forEach((function(e){return c(e.error,e.index,e.severity)})),a.parseState.isError&&0==a.lint.length&&c(a.parseState.error,a.parseState.index),this.$emit("parsed",r),r},onReady:function(e){},onChange:function(e){this.$emit("input",e)}},computed:{codemirror:function(){return this.$refs.cmEditor.codemirror}},mounted:function(){}}}).call(this,n("c8ba"))},cb9a:function(e,t,n){},eb33:function(e,t,n){"use strict";var r=n("a12c"),a=n.n(r);a.a}}]);